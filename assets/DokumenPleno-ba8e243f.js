import{e as N,c as m,r as f,w as h,o as T,v as g,g as l,i as r,j as t,k as i,z as c,E as b,B as H,C as V,u as v,x as E,y as k,F as A,G as K,t as u,A as U}from"./index-659768d0.js";import{u as $}from"./dokumen-pleno-store-9444a853.js";import{_ as F,s as j}from"./notif-utils-ca08aad7.js";import{l as q}from"./lodash-336d108c.js";import{f as z}from"./date-utils-b77f79dd.js";import{L as G}from"./LoadingComponent-f9a83e16.js";const I={class:"col-12"},Q={class:"card"},J={class:"card-header"},O=t("i",{class:"fas fa-plus mr-1"},null,-1),R={class:"card-tools mt-2"},W={class:"input-group input-group-sm",style:{width:"200px"}},X={class:"input-group-append"},Y=t("i",{class:"fas fa-times"},null,-1),Z=[Y],tt=t("i",{class:"fas fa-search"},null,-1),et=[tt],at={class:"card-body table-responsive p-0"},st={class:"table table-bordered table-head-fixed text-nowrap table-hover"},nt=t("thead",{class:"text-center"},[t("tr",null,[t("th",null,"No Dokumen"),t("th",null,"Dokumen"),t("th",null,"Tanggal Unggah"),t("th",null,"Keterangan"),t("th",null,"Status"),t("th",null,"Aksi")])],-1),ot={class:"position-relative"},lt={key:1,class:"text-center border"},it=t("td",{colspan:"6"},"Dokumen Pleno Kosong",-1),rt=[it],ct={key:2,class:"text-center border"},ut=t("td",{colspan:"6"},"Data yang Dicari Tidak Ada",-1),dt=[ut],pt={class:"text-center"},_t=["onClick"],mt=["id"],ht=t("i",{class:"fas fa-eye ml-3"},null,-1),gt=t("i",{class:"fas fa-pen ml-3"},null,-1),Ct={__name:"DokumenPleno",setup(ft){const e=$(),d=N(),p=m(()=>e.dokData),D=m(()=>e.page),y=m(()=>e.totalPage),o=f("");f([]);const x=q.debounce(()=>{o.value!==""?e.getList(o.value):e.getList()},500);h(()=>o.value,()=>{x()}),T(()=>{e.getList()}),h(()=>e.errorMessage,()=>{e.errorMessage&&d.add({type:"error",text:e.errorMessage})}),h(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&(d.add({type:"success",text:"Data Dokumen Pleno Berhasil di Hapus"}),e.getList())});function C(){e.page<e.totalPage?(e.page++,e.getList()):d.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function P(){e.page>0?(e.page--,e.getList()):d.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function S(n){e.page=n,e.getList()}function L(n){n.preventDefault(),j("Konfirmasi","Hapus Data?","question","Hapus","Batal",s=>{s&&(e.$reset(),e.deleteDokPleno(n.target.id))})}return(n,s)=>{const _=g("router-link"),w=g("b-button"),M=g("center");return l(),r("div",I,[t("div",Q,[t("div",J,[i(_,{to:{name:"TambahDokumenPleno"},class:"btn btn-primary"},{default:c(()=>[O,b(" Unggah Dokumen ")]),_:1}),t("div",R,[t("div",W,[H(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>o.value=a),name:"table_search",class:"form-control float-right",placeholder:"Search",onInput:s[1]||(s[1]=(...a)=>n.searchData&&n.searchData(...a))},null,544),[[V,o.value]]),t("div",X,[t("button",{type:"button",class:"btn btn-default",onClick:s[2]||(s[2]=a=>o.value="")},Z),t("button",{type:"button",class:"btn btn-default",onClick:s[3]||(s[3]=(...a)=>n.searchData&&n.searchData(...a))},et)])])])]),t("div",at,[t("table",st,[nt,t("tbody",ot,[v(e).isLoading?(l(),E(G,{key:0})):k("",!0),p.value.length==0?(l(),r("tr",lt,rt)):p.value.length===0&&o.value?(l(),r("tr",ct,dt)):k("",!0),(l(!0),r(A,null,K(p.value,(a,B)=>(l(),r("tr",{key:B},[t("td",null,u(a.no_surat),1),t("td",null,u(a.dokumen_name),1),t("td",null,u(v(z)(a.tanggal_unggah)),1),t("td",null,u(a.keterangan),1),t("td",null,[i(M,null,{default:c(()=>[i(w,{class:"button is-static status-button btn btn-primary btn-sm"},{default:c(()=>[b(u(a.status),1)]),_:2},1024)]),_:2},1024)]),t("td",pt,[t("a",{href:"#",onClick:U(L,["prevent"])},[t("i",{id:a.id,class:"fas fa-trash"},null,8,mt)],8,_t),i(_,{to:{name:"DetailDokumenPleno",params:{id:a.id}}},{default:c(()=>[ht]),_:2},1032,["to"]),i(_,{to:{name:"EditDokumenPleno",params:{id:a.id}}},{default:c(()=>[gt]),_:2},1032,["to"])])]))),128))])])]),i(F,{page:D.value,"total-page":y.value,onClickPrev:P,onClickNext:C,onClickPaginate:S},null,8,["page","total-page"])])])}}};export{Ct as default};
