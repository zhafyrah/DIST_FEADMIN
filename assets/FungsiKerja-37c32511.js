import{e as K,c,r as _,w as d,o as L,v as P,g as l,i as r,j as t,k as h,x as F,z as j,A as V,E as B,F as f,G as b,t as n,y as H,C as A}from"./index-b1176ff1.js";import{u as E}from"./fungsi-kerja-store-1aa2d23a.js";import{_ as T,s as $}from"./notif-utils-ac7d0df9.js";import{l as q}from"./lodash-336d108c.js";const z={class:"col-12"},G={class:"card"},I={class:"card-header"},Q=t("button",{class:"btn btn-primary"},[t("i",{class:"fas fa-plus mr-1"}),A("Tambah Fungsi ")],-1),U={class:"card-tools mt-2"},J={class:"input-group input-group-sm",style:{width:"200px"}},O={class:"input-group-append"},R=t("i",{class:"fas fa-times"},null,-1),W=[R],X=t("i",{class:"fas fa-search"},null,-1),Y=[X],Z={class:"card-body table-responsive p-0"},tt={class:"table table-hovered table-bordered"},et=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Komisi"),t("th",null,"Nama Komisi"),t("th",null,"Ketua Komisi"),t("th",null,"Anggota"),t("th",null,"Fungsi Kerja"),t("th",null,"Aksi")])],-1),st={key:0,class:"text-center border"},at=t("td",{colspan:"6"},"Data FungsiKerja Kosong",-1),ot=[at],nt={class:"text-left"},it={style:{"white-space":"pre-line"},class:"text-center"},lt={class:"mb-2",style:{"text-align":"justify"}},rt={class:"text-center"},ut=["onClick"],ct=["id"],ht={__name:"FungsiKerja",setup(dt){const e=E(),u=K(),p=c(()=>e.fungsiKerjaData),v=c(()=>e.page),k=c(()=>e.totalPage),y=c(()=>e.lastNoPage),i=_("");_([]);const x=q.debounce(()=>{i.value!==""?e.getList(i.value):e.getList()},500);d(()=>i.value,()=>{x()}),L(()=>{e.getList()}),d(()=>e.errorMessage,()=>{e.errorMessage&&u.add({type:"error",text:e.errorMessage})}),d(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&e.submitMessage&&(u.add({type:"success",text:e.submitMessage}),e.getList())});function C(){e.page<e.totalPage?(e.page++,e.getList()):u.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function D(){e.page>0?(e.page--,e.getList()):u.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function M(o){e.page=o,e.getList()}function S(o){o.preventDefault(),$("Konfirmasi","Hapus Data?","question","Hapus","Batal",a=>{a&&e.deleteFungsiKerja(o.target.id)})}return(o,a)=>{const w=P("router-link");return l(),r("div",z,[t("div",G,[t("div",I,[h(w,{to:"/tambah-fungsi"},{default:F(()=>[Q]),_:1}),t("div",U,[t("div",J,[j(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>i.value=s),name:"table_search",class:"form-control float-right",placeholder:"Search",onInput:a[1]||(a[1]=(...s)=>o.searchData&&o.searchData(...s))},null,544),[[V,i.value]]),t("div",O,[t("button",{type:"button",class:"btn btn-default",onClick:a[2]||(a[2]=s=>i.value="")},W),t("button",{type:"button",class:"btn btn-default",onClick:a[3]||(a[3]=(...s)=>o.searchData&&o.searchData(...s))},Y)])])])]),t("div",Z,[t("table",tt,[et,t("tbody",null,[p.value.length==0?(l(),r("tr",st,ot)):B("",!0),(l(!0),r(f,null,b(p.value,(s,g)=>(l(),r("tr",{key:g},[t("td",nt,n(g+=y.value),1),t("td",null,n(s.komisi),1),t("th",null,n(s.nama_komisi),1),t("td",null,n(s.ketua_komisi),1),t("td",it,[(l(!0),r(f,null,b(s.anggota,(m,N)=>(l(),r("div",{key:m.id,style:{"margin-bottom":"5px"}},[t("span",lt,n(N+1)+". "+n(m.nama_anggota),1)]))),128))]),t("td",null,n(s.fungsi_kerja),1),t("td",rt,[t("a",{href:"#",onClick:H(S,["prevent"])},[t("i",{id:s.id,class:"fas fa-trash"},null,8,ct)],8,ut)])]))),128))])])]),h(T,{page:v.value,"total-page":k.value,onClickPrev:D,onClickNext:C,onClickPaginate:M},null,8,["page","total-page"])])])}}};export{ht as default};
