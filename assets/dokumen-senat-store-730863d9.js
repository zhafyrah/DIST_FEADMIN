import{R as r,d as g,G as h}from"./index-c949cd14.js";import{f as d}from"./date-utils-b77f79dd.js";const u=new r("dokumen-senat");function l(s,e){return u.get({page:parseInt(s),search:e})}function c(s){return u.get({},s)}function p(s){return u.store(s,"save",!0)}function f(s,e){return u.update(s,e,"update",!0)}function m(s){return u.destroy("delete",s)}const a=h();function i(){a.show({color:"#0069d9",blur:"5px"})}function o(s,e){const t=new FormData;return t.append("judul_dokumen",s.noSurat),t.append("keterangan",s.keterangan),t.append("tanggal_unggah",d(s.tanggal_unggah)),t.append("link_url",s.link_url),e&&t.append("dokumen",e),t}const k=g("dokumen-senat",{state:()=>({dokData:[],komentarData:[],singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1}),actions:{getList(s){i(),l(this.page,s).then(e=>{this.totalData=e.total,this.currentPage=e.current_page,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.dokData=e.data,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})},saveDokSenat(s,e){i(),p(o(s,e)).then(t=>{this.isSuccessSubmit=!0,a.hide()}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,a.hide()})},updateDokSemat(s,e,t){i(),f(s,o(e,t)).then(n=>{this.isSuccessSubmit=!0,a.hide()}).catch(n=>{n.response?this.errorMessage=n.response.data.message:n.request?this.errorMessage=n.request:this.errorMessage=n.message,a.hide()})},deleteDokSenat(s){i(),m(s).then(e=>{this.isSuccessSubmit=!0,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})},getDokSenatById(s){i(),c(s).then(e=>{this.singleData=e.data,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})}}});export{k as u};
