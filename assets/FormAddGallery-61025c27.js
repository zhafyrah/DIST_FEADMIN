import{e as h,q as v,H as b,c as y,r as n,w as c,o as k,g as u,i as F,j as e,t as d,u as S,x,y as B,B as C,C as M,A as w}from"./index-745e58d5.js";import{u as G}from"./gallery-store-55fa4bfd.js";import{L as I}from"./LoadingComponent-ba3eee28.js";const j={class:"card"},A={class:"card-header"},D=["onSubmit"],K={class:"card-body position-relative"},L={class:"form-group"},T=e("label",{for:"input"},"Keterangan",-1),V={class:"form-group"},q=e("label",{for:"inputPhoto"},"Foto",-1),E={class:"input-group"},N={class:"custom-file"},P={class:"custom-file-label",for:"exampleInputFile"},R=e("div",{class:"card-footer"},[e("button",{type:"submit",class:"btn btn-primary w-100"},"Unggah")],-1),O={__name:"FormAddGallery",setup(U){const t=G(),i=h(),p=v(),a=b(),m=y(()=>a.params.id!==null),o=n(null);n(0);const r=n({keterangan:""});c(()=>t.errorMessage,()=>{t.errorMessage&&i.add({type:"error",text:t.errorMessage})}),c(()=>t.isSuccessSubmit,()=>{t.isSuccessSubmit&&(i.add({type:"success",text:"Foto berhasil disimpan"}),p.back())});function _(s){o.value=s.target.files[0]}function f(s){s.preventDefault(),t.saveGallery(r.value,o.value)}return k(()=>{a.params.id&&t.getGalleryById(a.params.id)}),(s,l)=>(u(),F("div",j,[e("div",A," Silahkan "+d(m.value?"Perbarui":"Tambah")+" Foto ",1),e("form",{onSubmit:w(f,["prevent"])},[e("div",K,[S(t).isLoading?(u(),x(I,{key:0})):B("",!0),e("div",L,[T,C(e("input",{type:"text",class:"form-control",id:"photo",placeholder:"Isi Keterangan Foto","onUpdate:modelValue":l[0]||(l[0]=g=>r.value.keterangan=g),required:""},null,512),[[M,r.value.keterangan]])]),e("div",V,[q,e("div",E,[e("div",N,[e("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",accept:".jpg, .jpeg",onChange:_},null,32),e("label",P,d(o.value==null?"Temukan Foto dari Komputer Anda":o.value.name),1)])])])]),R],40,D)]))}};export{O as default};
