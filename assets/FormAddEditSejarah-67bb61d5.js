import{e as S,q as b,H as j,w as u,r as d,c as x,o as y,g as c,i as k,j as e,t as m,u as F,x as w,y as B,B as p,C as f,A as D}from"./index-659768d0.js";import{u as I}from"./sejarah-store-8d0b2a47.js";import{L as C}from"./LoadingComponent-f9a83e16.js";const M=["onSubmit"],N={class:"card"},U={class:"card-header"},V={class:"card-title"},q={class:"card-body position-relative"},A={class:"row"},E={class:"form-group col-md-12"},L=e("label",{for:"input"},"Judul",-1),P={class:"form-group col-md-12"},T=e("label",null,"Isi Sejarah Polindra",-1),J={class:"form-group"},K=e("label",{for:"exampleInputFile"},"Foto",-1),R={class:"input-group"},H={class:"custom-file"},z={class:"custom-file-label",for:"exampleInputFile"},G=e("div",{class:"form-group"},[e("input",{type:"submit",class:"btn btn-primary w-100",value:"Kirim"})],-1),Y={__name:"FormAddEditSejarah",setup(O){const a=I(),n=S(),_=b(),t=j();u(()=>a.errorMessage,()=>{a.errorMessage&&n.add({type:"error",text:a.errorMessage})}),u(()=>a.isSuccessSubmit,()=>{a.isSuccessSubmit&&(n.add({type:"success",text:"Sejarah Berhasil Disimpan"}),_.back())});const s=d({judul:"",isi:"",fotoUrl:"",fotoName:""}),h=x(()=>t.params.id!==null),i=d(null);u(()=>a.singleData,()=>{const o=a.singleData;s.value.judul=o.judul,s.value.isi=o.isi,s.value.fotoUrl=o.foto_url,s.value.fotoName=o.foto_name});function v(o){i.value=o.target.files[0]}function g(o){o.preventDefault(),t.params.id?a.updateSejarah(t.params.id,s.value,i.value):a.saveSejarah(s.value,i.value)}return y(()=>{t.params.id&&a.getSejarahById(t.params.id)}),(o,l)=>(c(),k("form",{class:"form",onSubmit:D(g,["prevent"])},[e("div",N,[e("div",U,[e("h4",V," Silahkan "+m(h.value?"Perbarui":"Tambah")+" Sejarah ",1)]),e("div",q,[F(a).isLoading?(c(),w(C,{key:0})):B("",!0),e("div",A,[e("div",E,[L,p(e("input",{type:"text",id:"title",class:"form-control",placeholder:"Isi Judul Disini","onUpdate:modelValue":l[0]||(l[0]=r=>s.value.judul=r),required:""},null,512),[[f,s.value.judul]])]),e("div",P,[T,p(e("textarea",{class:"form-control",rows:"4",placeholder:"Isi Sejarah Polindra","onUpdate:modelValue":l[1]||(l[1]=r=>s.value.isi=r),required:""},null,512),[[f,s.value.isi]])])]),e("div",J,[K,e("div",R,[e("div",H,[e("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",accept:".jpg, .jpeg",onChange:v},null,32),e("label",z,m(i.value==null?"Temukan Foto dari Komputer Anda":i.value.name),1)])])])]),G])],40,M))}};export{Y as default};
