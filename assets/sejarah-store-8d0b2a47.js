import{R as r,d as u}from"./index-659768d0.js";const i=new r("sejarah");function g(s){return i.get({page:parseInt(s)})}function n(s){return i.get({},s)}function o(s){return i.store(s,"save",!0)}function l(s,e){return i.updateFormData(s,e,"update",!0)}function c(s){return i.destroy("delete",s)}function h(s,e){const t=new FormData;return t.append("judul",s.judul),t.append("isi",s.isi),e&&t.append("foto",e),t}const f=u("sejarah",{state:()=>({sejarahData:[],isLoading:!1,singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,submitMessage:""}),actions:{getList(){this.totalData=0,this.totalPage=1,this.lastNoPage=0,this.sejarahData=[],this.errorMessage="",this.isLoading=!0,g(this.page).then(s=>{this.totalData=s.total,this.totalPage=s.total>10?Math.ceil(s.total/10):1,this.lastNoPage=s.from,this.sejarahData=s.data,this.isLoading=!1}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,this.isLoading=!1})},saveSejarah(s,e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",this.isLoading=!0,o(h(s,e)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Sejarah Berhasil di Simpan",this.isLoading=!1}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,this.isLoading=!1})},updateSejarah(s,e,t){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",this.isLoading=!0,l(s,h(e,t)).then(a=>{this.isSuccessSubmit=!0,this.submitMessage="Data Sejarah Berhasil di Update",this.isLoading=!1}).catch(a=>{a.response?this.errorMessage=a.response.data.message:a.request?this.errorMessage=a.request:this.errorMessage=a.message,this.isLoading=!1})},deleteSejarah(s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",c(s).then(e=>{this.isSuccessSubmit=!0,this.submitMessage="Data Sejarah Berhasil di Hapus"}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message})},getSejarahById(s){this.errorMessage="",this.singleData={},n(s).then(e=>{this.singleData=e.data}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message})}}});export{f as u};
