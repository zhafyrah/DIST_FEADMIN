import{e as S,q as y,H as x,c as F,r as l,w as m,o as w,g as p,i as B,j as e,t as g,u as U,x as j,y as M,B as u,C as r,A as N}from"./index-659768d0.js";import{u as V}from"./dokumen-senat-store-7a03bf5f.js";import"./vue3-datepicker-2eb64829.js";import{L as C}from"./LoadingComponent-f9a83e16.js";import"./date-utils-b77f79dd.js";const I={class:"card"},q={class:"card-header"},L={class:"d-flex align-items-center"},T=["onSubmit"],A={class:"card-body position-relative"},E={class:"row"},K={class:"col-md-12"},P={class:"form-group"},R=e("label",{for:"inputName"},"Nama Dokumen",-1),H={class:"col-md-12"},$={class:"form-group"},z=e("label",{for:"inputName"},"Link Url",-1),G={class:"col-md-12"},J={class:"form-group"},O=e("label",{for:"inputEmail"},"Keterangan",-1),Q={class:"col-md-12"},W={class:"form-group"},X=e("label",null,"Tanggal Unggah",-1),Y={class:"form-group"},Z=e("label",{for:"exampleInputFile"},"Foto",-1),ee={class:"input-group"},te={class:"custom-file"},ae={class:"custom-file-label",for:"exampleInputFile"},oe=e("div",{class:"card-footer d-flex justify-content-center"},[e("button",{type:"submit",class:"btn btn-primary w-100"},"Kirim")],-1),de={__name:"FormAddDokumenSenat",setup(se){const t=V(),_=S(),v=y(),d=x(),k=F(()=>d.params.id!==null),a=l({judulDok:"",tanggal_unggah:new Date,keterangan:"",link_url:""}),f=l(""),h=l(""),c=l(0),n=l(null);m(()=>t.errorMessage,()=>{t.errorMessage&&_.add({type:"error",text:t.errorMessage})}),m(()=>t.isSuccessSubmit,()=>{t.isSuccessSubmit&&(t.$reset(),_.add({type:"success",text:"Dokumen Pleno Berhasil di Simpan"}),v.back())}),m(()=>t.singleData,()=>{c.value=t.singleData.id,a.value.noSurat=t.singleData.judul_dokumen,a.value.tanggal_unggah=t.singleData.tanggal_unggah,a.value.keterangan=t.singleData.keterangan,a.value.link_url=t.singleData.link_url,f.value=t.singleData.dokumen_url,h.value=t.singleData.dokumen_name});function b(i){n.value=i.target.files[0]}function D(i){i.preventDefault(),c.value==0?t.saveDokSenat(a.value,n.value):t.updateDokSenat(c.value,a.value,n.value)}return w(()=>{d.params.id&&t.getDokSenatById(d.params.id)}),(i,o)=>(p(),B("div",I,[e("div",q,[e("div",L,[e("h5",null,"Silahkan "+g(k.value?"Perbarui":"Tambahkan")+" Dokumen Senat",1)])]),e("form",{onSubmit:N(D,["prevent"])},[e("div",A,[U(t).isLoading?(p(),j(C,{key:0})):M("",!0),e("div",E,[e("div",K,[e("div",P,[R,u(e("input",{type:"text",id:"nosurat",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=s=>a.value.noSurat=s),required:""},null,512),[[r,a.value.noSurat]])])]),e("div",H,[e("div",$,[z,u(e("input",{type:"text",id:"nosurat",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>a.value.link_url=s),required:""},null,512),[[r,a.value.link_url]])])]),e("div",G,[e("div",J,[O,u(e("input",{type:"text",id:"keterangan",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=s=>a.value.keterangan=s),required:""},null,512),[[r,a.value.keterangan]])])]),e("div",Q,[e("div",W,[X,u(e("input",{class:"form-control",type:"date","onUpdate:modelValue":o[3]||(o[3]=s=>a.value.tanggal_unggah=s)},null,512),[[r,a.value.tanggal_unggah]])])])]),e("div",Y,[Z,e("div",ee,[e("div",te,[e("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",accept:".jpg, .jpeg",onChange:b},null,32),e("label",ae,g(n.value==null?"Temukan Foto dari Komputer Anda":n.value.name),1)])])])]),oe],40,T)]))}};export{de as default};
