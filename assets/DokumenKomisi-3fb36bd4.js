import{e as K,c as p,r as g,w as _,o as w,v as M,g as i,i as l,j as t,k as c,z as h,E as B,B as N,C as P,u as f,x as T,y as k,F as H,G as V,t as d,A as E}from"./index-745e58d5.js";import{u as A}from"./dokumen-komisi-store-9aedb261.js";import{_ as U,s as $}from"./notif-utils-02af4175.js";import{l as F}from"./lodash-336d108c.js";import{f as j}from"./date-utils-b77f79dd.js";import{L as q}from"./LoadingComponent-ba3eee28.js";const z={class:"col-12"},G={class:"card"},I={class:"card-header"},Q=t("i",{class:"fas fa-plus mr-1"},null,-1),J={class:"card-tools mt-2"},O={class:"input-group input-group-sm",style:{width:"200px"}},R={class:"input-group-append"},W=t("i",{class:"fas fa-times"},null,-1),X=[W],Y=t("i",{class:"fas fa-search"},null,-1),Z=[Y],tt={class:"card-body table-responsive p-0"},et={class:"table table-bordered table-head-fixed text-nowrap table-hover"},at=t("thead",null,[t("tr",null,[t("th",null,"No Dokumen"),t("th",null,"Dokumen"),t("th",null,"Tanggal Unggah"),t("th",null,"Keterangan"),t("th",null,"Aksi")])],-1),st={class:"position-relative"},ot={key:1,class:"text-center border"},nt=t("td",{colspan:"6"},"Dokumen Komisi Kosong",-1),it=[nt],lt={key:2,class:"text-center border"},rt=t("td",{colspan:"6"},"Data yang Dicari Tidak Ada",-1),ct=[rt],dt={class:"text-center"},ut=["onClick"],mt=["id"],pt=t("i",{class:"fas fa-eye ml-3"},null,-1),_t=t("i",{class:"fas fa-pen ml-3"},null,-1),yt={__name:"DokumenKomisi",setup(ht){const e=A(),r=K(),u=p(()=>e.dokData),v=p(()=>e.page),b=p(()=>e.totalPage),n=g("");g([]);const D=F.debounce(()=>{n.value!==""?e.getList(n.value):e.getList()},500);_(()=>n.value,()=>{D()}),w(()=>{e.getList()}),_(()=>e.errorMessage,()=>{e.errorMessage&&r.add({type:"error",text:e.errorMessage})}),_(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&(r.add({type:"success",text:"Data Dokumen Komisi Berhasil di Hapus"}),e.getList())});function y(){e.page<e.totalPage?(e.page++,e.getList()):r.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function x(){e.page>0?(e.page--,e.getList()):r.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function C(o){e.page=o,e.getList()}function L(o){o.preventDefault(),$("Konfirmasi","Hapus Data?","question","Hapus","Batal",s=>{s&&(e.$reset(),e.deleteDokKomisi(o.target.id))})}return(o,s)=>{const m=M("router-link");return i(),l("div",z,[t("div",G,[t("div",I,[c(m,{to:{name:"TambahDokumenKomisi"},class:"btn btn-primary"},{default:h(()=>[Q,B(" Unggah Dokumen ")]),_:1}),t("div",J,[t("div",O,[N(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a),name:"table_search",class:"form-control float-right",placeholder:"Search",onInput:s[1]||(s[1]=(...a)=>o.searchData&&o.searchData(...a))},null,544),[[P,n.value]]),t("div",R,[t("button",{type:"button",class:"btn btn-default",onClick:s[2]||(s[2]=a=>n.value="")},X),t("button",{type:"button",class:"btn btn-default",onClick:s[3]||(s[3]=(...a)=>o.searchData&&o.searchData(...a))},Z)])])])]),t("div",tt,[t("table",et,[at,t("tbody",st,[f(e).isLoading?(i(),T(q,{key:0})):k("",!0),u.value.length==0?(i(),l("tr",ot,it)):u.value.length===0&&n.value?(i(),l("tr",lt,ct)):k("",!0),(i(!0),l(H,null,V(u.value,(a,S)=>(i(),l("tr",{key:S},[t("td",null,d(a.no_surat),1),t("td",null,d(a.dokumen_name),1),t("td",null,d(f(j)(a.tanggal_unggah)),1),t("td",null,d(a.keterangan),1),t("td",dt,[t("a",{href:"#",onClick:E(L,["prevent"])},[t("i",{id:a.id,class:"fas fa-trash"},null,8,mt)],8,ut),c(m,{to:{name:"DetailDokumenKomisi",params:{id:a.id}}},{default:h(()=>[pt]),_:2},1032,["to"]),c(m,{to:{name:"EditDokumenKomisi",params:{id:a.id}}},{default:h(()=>[_t]),_:2},1032,["to"])])]))),128))])])]),c(U,{page:v.value,"total-page":b.value,onClickPrev:x,onClickNext:y,onClickPaginate:C},null,8,["page","total-page"])])])}}};export{yt as default};
