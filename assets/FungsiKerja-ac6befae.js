import{e as K,c,r as _,w as d,o as P,v as F,g as n,i as r,j as t,k as h,z as j,B,C as V,u as H,x as A,y as f,F as b,G as v,t as i,A as E,E as T}from"./index-745e58d5.js";import{u as $}from"./fungsi-kerja-store-78c75df7.js";import{_ as q,s as z}from"./notif-utils-02af4175.js";import{l as G}from"./lodash-336d108c.js";import{L as I}from"./LoadingComponent-ba3eee28.js";const Q={class:"col-12"},U={class:"card"},J={class:"card-header"},O=t("button",{class:"btn btn-primary"},[t("i",{class:"fas fa-plus mr-1"}),T("Tambah Fungsi ")],-1),R={class:"card-tools mt-2"},W={class:"input-group input-group-sm",style:{width:"200px"}},X={class:"input-group-append"},Y=t("i",{class:"fas fa-times"},null,-1),Z=[Y],tt=t("i",{class:"fas fa-search"},null,-1),et=[tt],st={class:"card-body table-responsive p-0"},at={class:"table table-hovered table-bordered"},ot=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Komisi"),t("th",null,"Nama Komisi"),t("th",null,"Ketua Komisi"),t("th",null,"Anggota"),t("th",null,"Fungsi Kerja"),t("th",null,"Aksi")])],-1),nt={class:"position-relative"},it={key:1,class:"text-center border"},lt=t("td",{colspan:"6"},"Data Fungsi Kerja Kosong",-1),rt=[lt],ut={class:"text-left"},ct={style:{"white-space":"pre-line"},class:"text-center"},dt={class:"mb-2",style:{"text-align":"justify"}},pt={class:"text-center"},mt=["onClick"],gt=["id"],yt={__name:"FungsiKerja",setup(_t){const e=$(),u=K(),p=c(()=>e.fungsiKerjaData),k=c(()=>e.page),y=c(()=>e.totalPage),x=c(()=>e.lastNoPage),l=_("");_([]);const C=G.debounce(()=>{l.value!==""?e.getList(l.value):e.getList()},500);d(()=>l.value,()=>{C()}),P(()=>{e.getList()}),d(()=>e.errorMessage,()=>{e.errorMessage&&u.add({type:"error",text:e.errorMessage})}),d(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&e.submitMessage&&(u.add({type:"success",text:e.submitMessage}),e.getList())});function D(){e.page<e.totalPage?(e.page++,e.getList()):u.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function L(){e.page>0?(e.page--,e.getList()):u.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function M(o){e.page=o,e.getList()}function S(o){o.preventDefault(),z("Konfirmasi","Hapus Data?","question","Hapus","Batal",a=>{a&&e.deleteFungsiKerja(o.target.id)})}return(o,a)=>{const w=F("router-link");return n(),r("div",Q,[t("div",U,[t("div",J,[h(w,{to:"/tambah-fungsi"},{default:j(()=>[O]),_:1}),t("div",R,[t("div",W,[B(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),name:"table_search",class:"form-control float-right",placeholder:"Search",onInput:a[1]||(a[1]=(...s)=>o.searchData&&o.searchData(...s))},null,544),[[V,l.value]]),t("div",X,[t("button",{type:"button",class:"btn btn-default",onClick:a[2]||(a[2]=s=>l.value="")},Z),t("button",{type:"button",class:"btn btn-default",onClick:a[3]||(a[3]=(...s)=>o.searchData&&o.searchData(...s))},et)])])])]),t("div",st,[t("table",at,[ot,t("tbody",nt,[H(e).isLoading?(n(),A(I,{key:0})):f("",!0),p.value.length==0?(n(),r("tr",it,rt)):f("",!0),(n(!0),r(b,null,v(p.value,(s,m)=>(n(),r("tr",{key:m},[t("td",ut,i(m+=x.value),1),t("td",null,i(s.komisi),1),t("th",null,i(s.nama_komisi),1),t("td",null,i(s.ketua_komisi),1),t("td",ct,[(n(!0),r(b,null,v(s.anggota,(g,N)=>(n(),r("div",{key:g.id,style:{"margin-bottom":"5px"}},[t("span",dt,i(N+1)+". "+i(g.nama_anggota),1)]))),128))]),t("td",null,i(s.fungsi_kerja),1),t("td",pt,[t("a",{href:"#",onClick:E(S,["prevent"])},[t("i",{id:s.id,class:"fas fa-trash"},null,8,gt)],8,mt)])]))),128))])])]),h(q,{page:k.value,"total-page":y.value,onClickPrev:L,onClickNext:D,onClickPaginate:M},null,8,["page","total-page"])])])}}};export{yt as default};
