import{R as h,d as o,H as l}from"./index-194bee8b.js";const u=new h("fungsi-kerja");function c(e){return u.get({page:parseInt(e)})}function d(e){return u.get({},e)}function m(e){return u.store(e,"save",!0)}function p(e,s){return u.update(e,s,"update",!0)}function f(e){return u.destroy("delete",e)}const a=l();function i(){a.show({color:"#0069d9",blur:"5px"})}function r(e,s){const t=new FormData;return t.append("komisi",e.komisi),t.append("nama_komisi",e.namaKomisi),t.append("ketua_komisi",e.ketuaKomisi),t.append("fungsi_kerja",e.fungsiKerja),s.forEach((g,n)=>{t.append(`nama_anggota${n+1}`,g.value)}),t}const j=o("fungsi-kerja",{state:()=>({fungsiKerjaData:[],singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,submitMessage:""}),actions:{getList(){this.totalData=0,this.totalPage=1,this.lastNoPage=0,this.fungsiKerjaData=[],this.errorMessage="",i(),c(this.page).then(e=>{this.totalData=e.total,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.fungsiKerjaData=e.data,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})},saveFungsiKerja(e,s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",i(),m(r(e,s)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Fungsi Kerja Berhasil di Simpan",a.hide()}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,a.hide()})},updateFungsiKerja(e,s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",i(),p(e,r(s)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Fungsi Kerja Berhasil di Update",a.hide()}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,a.hide()})},deleteFungsiKerja(e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",i(),f(e).then(s=>{this.isSuccessSubmit=!0,this.submitMessage="Data Fungsi Kerja Berhasil di Hapus",a.hide()}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,a.hide()})},getFungsiKerjaById(e){this.errorMessage="",this.singleData={},i(),d(e).then(s=>{this.singleData=s.data,a.hide()}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,a.hide()})}}});export{j as u};
