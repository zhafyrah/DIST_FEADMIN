import{e as j,c,r as w,o as P,w as m,v as L,g as l,i,j as t,k as r,x as g,D as p,F as f,E as N,t as u,u as T,C as B,y as H}from"./index-194bee8b.js";import{u as V}from"./sejarah-store-a90135b3.js";import{_ as E,s as F}from"./notif-utils-a9433b8c.js";const I={class:"content"},K={class:"div container-fluid"},$={class:"row"},q={class:"col-12"},A={class:"card"},J={class:"card-header"},z={class:"card-tools"},G={key:0,class:"card-tools"},O=t("i",{class:"fas fa-plus mr-1"},null,-1),Q={class:"card-body table-responsive p-0"},R={class:"table text-nowrap"},U=t("thead",null,[t("tr",null,[t("th",null,"Judul"),t("th",null,"Isi"),t("th",null,"Foto"),t("th",null,"Aksi")])],-1),W={key:0,class:"text-center border"},X=t("td",{colspan:"3"},"Data Sejarah Kosong",-1),Y=[X],Z=["src"],tt={class:"text-left ml-3"},et=["onClick"],at=["id"],st=t("i",{class:"fas fa-pen ml-3"},null,-1),ot=["onClick"],lt=t("i",{class:"fas fa-eye ml-3"},null,-1),it=[lt],nt={class:"modal fade bd-example-modal-lg",id:"modalDetail",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},dt={class:"modal-dialog modal-lg",role:"document"},ct={class:"modal-content"},rt=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Detail Sejarah"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"Ã—")])],-1),ut={class:"modal-body"},_t=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Tutup ")],-1),bt={__name:"SejarahPolindra",setup(ht){const e=V(),n=j(),d=c(()=>e.sejarahData);let _=w({});function b(a){_.value=a}const v=c(()=>e.page),k=c(()=>e.totalPage);P(()=>{e.getList()}),m(()=>e.errorMessage,()=>{e.errorMessage&&n.add({type:"error",text:e.errorMessage})}),m(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&e.submitMessage&&(n.add({type:"success",text:e.submitMessage}),e.getList())});function y(){e.page<e.totalPage?(e.page++,e.getList()):n.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function x(){e.page>0?(e.page--,e.getList()):n.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function S(a){e.page=a,e.getList()}function C(a,o){return a.length<=o?a:a.substring(0,o)+"..."}function D(a){a.preventDefault(),F("Konfirmasi","Hapus Data?","question","Hapus","Batal",o=>{o&&e.deleteSejarah(a.target.id)})}return(a,o)=>{const h=L("router-link");return l(),i(f,null,[t("section",I,[t("div",K,[t("div",$,[t("div",q,[t("div",A,[t("div",J,[t("div",z,[d.value.length==0?(l(),i("div",G,[r(h,{to:"/tambah-sejarah",class:"btn btn-primary"},{default:g(()=>[O,B(" Tambah Sejarah ")]),_:1})])):p("",!0)])]),t("div",Q,[t("table",R,[U,t("tbody",null,[d.value.length==0?(l(),i("tr",W,Y)):p("",!0),(l(!0),i(f,null,N(d.value,(s,M)=>(l(),i("tr",{key:M},[t("td",null,u(s.judul),1),t("td",null,u(C(s.isi,50)),1),t("td",null,[t("img",{src:s.foto_url,alt:"image",style:{"max-width":"100px","max-height":"auto"}},null,8,Z)]),t("td",tt,[t("a",{href:"#",onClick:H(D,["prevent"])},[t("i",{id:s.id,class:"fas fa-trash"},null,8,at)],8,et),r(h,{to:{name:"Edit Sejarah Polindra",params:{id:s.id}}},{default:g(()=>[st]),_:2},1032,["to"]),t("a",{"data-toggle":"modal","data-target":"#modalDetail",onClick:mt=>b(s.isi)},it,8,ot)])]))),128))])])]),r(E,{page:v.value,"total-page":k.value,onClickPrev:x,onClickNext:y,onClickPaginate:S},null,8,["page","total-page"])])])])])]),t("div",nt,[t("div",dt,[t("div",ct,[rt,t("div",ut,u(T(_)),1),_t])])])],64)}}};export{bt as default};
