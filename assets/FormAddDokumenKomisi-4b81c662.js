import{f as S,q as x,H as K,c as w,r as n,w as d,o as U,i as c,j as m,k as e,t as g,z as _,A as p,y as F}from"./index-8e55fb7d.js";import{u as M}from"./dokumen-komisi-store-92a25025.js";import"./vue3-datepicker-2eb64829.js";import"./date-utils-ee963ed8.js";const B={class:"card"},I={class:"card-header"},N={class:"d-flex align-items-center"},T={class:"card-title"},V=["onSubmit"],q={class:"card-body"},A={class:"row"},E={class:"col-md-12"},j={class:"form-group"},C=e("label",{for:"inputName"},"No Dokumen",-1),R={class:"col-md-12"},z={class:"form-group"},H=e("label",{for:"inputEmail"},"Keterangan",-1),P={class:"col-md-12"},$={class:"form-group"},G=e("label",null,"Tanggal Unggah",-1),J={key:0,class:"form-group"},L=e("label",{for:"exampleInputFile"},"Unggah Dokumen",-1),O={class:"input-group"},Q={class:"custom-file"},W={class:"custom-file-label",for:"exampleInputFile"},X={key:1,class:"row text-left"},Y={class:"col-md-12"},Z=e("div",{class:"card-footer d-flex justify-content-center"},[e("button",{type:"submit",class:"btn btn-primary w-100"},"Unggah")],-1),ne={__name:"FormAddDokumenKomisi",setup(ee){const t=M(),v=S(),k=x(),u=K(),D=w(()=>u.params.id!==null),h=n(""),f=n(""),r=n(0),a=n({noSurat:"",tanggal_unggah:new Date,keterangan:""}),l=n(null);d(()=>t.errorMessage,()=>{t.errorMessage&&v.add({type:"error",text:t.errorMessage})}),d(()=>t.isSuccessSubmit,()=>{t.isSuccessSubmit&&(t.$reset(),v.add({type:"success",text:"Dokumen Komisi Berhasil Disimpan"}),k.back())}),d(()=>t.singleData,()=>{r.value=t.singleData.id,a.value.noSurat=t.singleData.no_surat,a.value.tanggal_unggah=t.singleData.tanggal_unggah,a.value.keterangan=t.singleData.keterangan,h.value=t.singleData.dokumen_url,f.value=t.singleData.dokumen_name});function b(i){l.value=i.target.files[0]}function y(i){i.preventDefault(),r.value==0?t.saveDokKomisi(a.value,l.value):t.updateDokKomisi(r.value,a.value,null)}return U(()=>{u.params.id&&t.getDokKomisiById(u.params.id)}),(i,s)=>(c(),m("div",B,[e("div",I,[e("div",N,[e("h5",T," Silahkan "+g(D.value?"Perbarui":"Tambah")+" Dokumen Komisi ",1)])]),e("form",{onSubmit:F(y,["prevent"])},[e("div",q,[e("div",A,[e("div",E,[e("div",j,[C,_(e("input",{type:"text",id:"nosurat",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>a.value.noSurat=o),required:""},null,512),[[p,a.value.noSurat]])])]),e("div",R,[e("div",z,[H,_(e("input",{type:"text",id:"keterangan",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>a.value.keterangan=o),required:""},null,512),[[p,a.value.keterangan]])])]),e("div",P,[e("div",$,[G,_(e("input",{class:"form-control",type:"date","onUpdate:modelValue":s[2]||(s[2]=o=>a.value.tanggal_unggah=o)},null,512),[[p,a.value.tanggal_unggah]])])])]),h.value==""?(c(),m("div",J,[L,e("div",O,[e("div",Q,[e("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",onChange:b},null,32),e("label",W,g(l.value==null?"Temukan Dokumen dari Komputer Anda":l.value.name),1)])])])):(c(),m("div",X,[e("div",Y,[e("h5",null,"Dokumen yang diunggah: "+g(f.value),1)])]))]),Z],40,V)]))}};export{ne as default};
