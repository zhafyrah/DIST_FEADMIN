import{e as M,c as r,r as g,w as u,o as P,v as S,g as c,i as d,j as t,k as _,x as w,z as N,A as L,E as K,F as V,G as B,t as l,y as H,C as A}from"./index-b1176ff1.js";import{u as E}from"./keanggotaan-store-9d458cd3.js";import{_ as F,s as T}from"./notif-utils-ac7d0df9.js";import{l as j}from"./lodash-336d108c.js";const $={class:"col-12"},q={class:"card"},z={class:"card-header"},G=t("button",{class:"btn btn-primary"},[t("i",{class:"fas fa-plus mr-1"}),A("Tambah Anggota ")],-1),I={class:"card-tools mt-2"},J={class:"input-group input-group-sm",style:{width:"200px"}},Q={class:"input-group-append"},U=t("i",{class:"fas fa-times"},null,-1),O=[U],R=t("i",{class:"fas fa-search"},null,-1),W=[R],X={class:"card-body table-responsive p-0"},Y={class:"table table-hovered table-bordered"},Z=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Nama"),t("th",null,"Jabatan"),t("th",null,"Pendidikan"),t("th",null,"Periode"),t("th",null,"Foto"),t("th",null,"Aksi")])],-1),tt={key:0,class:"text-center border"},et=t("td",{colspan:"6"},"Data Keanggotaan Kosong",-1),at=[et],st={class:"text-center"},ot=["src","alt"],nt={class:"text-center"},lt=["onClick"],it=["id"],ht={__name:"Keanggotaan",setup(rt){const e=E(),i=M(),p=r(()=>e.keanggotaanData),m=r(()=>e.page),f=r(()=>e.totalPage),b=r(()=>e.lastNoPage),n=g("");g([]);const v=j.debounce(()=>{n.value!==""?e.getList(n.value):e.getList()},500);u(()=>n.value,()=>{v()}),P(()=>{e.getList()}),u(()=>e.errorMessage,()=>{e.errorMessage&&i.add({type:"error",text:e.errorMessage})}),u(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&e.submitMessage&&(i.add({type:"success",text:e.submitMessage}),e.getList())});function k(){e.page<e.totalPage?(e.page++,e.getList()):i.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function x(){e.page>0?(e.page--,e.getList()):i.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function y(o){e.page=o,e.getList()}function C(o){o.preventDefault(),T("Konfirmasi","Hapus Data?","question","Hapus","Batal",s=>{s&&e.deleteKeanggotaan(o.target.id)})}return(o,s)=>{const D=S("router-link");return c(),d("div",$,[t("div",q,[t("div",z,[_(D,{to:"/tambah-anggota"},{default:w(()=>[G]),_:1}),t("div",I,[t("div",J,[N(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a),name:"table_search",class:"form-control float-right",placeholder:"Search",onInput:s[1]||(s[1]=(...a)=>o.searchData&&o.searchData(...a))},null,544),[[L,n.value]]),t("div",Q,[t("button",{type:"button",class:"btn btn-default",onClick:s[2]||(s[2]=a=>n.value="")},O),t("button",{type:"button",class:"btn btn-default",onClick:s[3]||(s[3]=(...a)=>o.searchData&&o.searchData(...a))},W)])])])]),t("div",X,[t("table",Y,[Z,t("tbody",null,[p.value.length==0?(c(),d("tr",tt,at)):K("",!0),(c(!0),d(V,null,B(p.value,(a,h)=>(c(),d("tr",{key:h},[t("td",st,l(h+=b.value),1),t("td",null,l(a.nama),1),t("td",null,l(a.jabatan),1),t("td",null,l(a.pendidikan),1),t("td",null,l(a.periode),1),t("td",null,[t("img",{src:a.foto_path,alt:a.foto_name,style:{"max-width":"100px","max-height":"auto"}},null,8,ot)]),t("td",nt,[t("a",{href:"#",onClick:H(C,["prevent"])},[t("i",{id:a.id,class:"fas fa-trash"},null,8,it)],8,lt)])]))),128))])])]),_(F,{page:m.value,"total-page":f.value,onClickPrev:x,onClickNext:k,onClickPaginate:y},null,8,["page","total-page"])])])}}};export{ht as default};
