import{R as h,d as o,G as l}from"./index-c949cd14.js";const u=new h("fungsi-kerja");function c(s,e){return u.get({page:parseInt(s),search:e})}function d(s){return u.get({},s)}function m(s){return u.store(s,"save",!0)}function p(s,e){return u.update(s,e,"update",!0)}function f(s){return u.destroy("delete",s)}const a=l();function i(){a.show({color:"#0069d9",blur:"5px"})}function r(s,e){const t=new FormData;return t.append("komisi",s.komisi),t.append("nama_komisi",s.namaKomisi),t.append("ketua_komisi",s.ketuaKomisi),t.append("fungsi_kerja",s.fungsiKerja),e.forEach((g,n)=>{t.append(`nama_anggota${n+1}`,g.value)}),t}const j=o("fungsi-kerja",{state:()=>({fungsiKerjaData:[],singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,submitMessage:""}),actions:{getList(s){this.totalData=0,this.totalPage=1,this.lastNoPage=0,this.fungsiKerjaData=[],this.errorMessage="",i(),c(this.page,s).then(e=>{this.totalData=e.total,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.fungsiKerjaData=e.data,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})},saveFungsiKerja(s,e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",i(),m(r(s,e)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Fungsi Kerja Berhasil di Simpan",a.hide()}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,a.hide()})},updateFungsiKerja(s,e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",i(),p(s,r(e)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Fungsi Kerja Berhasil di Update",a.hide()}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,a.hide()})},deleteFungsiKerja(s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",i(),f(s).then(e=>{this.isSuccessSubmit=!0,this.submitMessage="Data Fungsi Kerja Berhasil di Hapus",a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})},getFungsiKerjaById(s){this.errorMessage="",this.singleData={},i(),d(s).then(e=>{this.singleData=e.data,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})}}});export{j as u};
