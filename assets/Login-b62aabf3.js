import{p as b,f as h,q as f,r as d,w as c,o as g,v as w,i as x,j as y,k as s,l as u,x as k,y as S,z as n,A as p,B as M}from"./index-8e55fb7d.js";const B={class:"hold-transition login-page"},E={class:"login-box"},V=s("div",{class:"login-logo"},[s("a",{href:"#"},"Senat Polindra")],-1),C={class:"card"},L={class:"card-body login-card-body"},U=s("p",{style:{"font-size":"30px"}},[s("b",null,"Masuk")],-1),z=s("p",{class:"login-box-msg"},"Silahkan Masuk Untuk Memulai Sesi",-1),A=["onSubmit"],I={class:"input-group mb-3"},N=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-envelope"})])],-1),P={class:"input-group mb-3"},R=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-lock"})])],-1),$={class:"row"},j={class:"col-8"},q={class:"icheck-primary"},D=s("label",{for:"remember"}," Ingat Saya ",-1),F=s("div",{class:"col-4"},[s("button",{type:"submit",class:"btn btn-primary btn-block"}," Masuk ")],-1),K=s("p",{class:"mb-1"},null,-1),H={__name:"Login",setup(T){const o=b(),i=h(),m=f(),_=d(null),e=d({email:"",password:"",remember:!1});function v(){e.value.email&&e.value.password?o.submitLogin(e.value.email,e.value.password):i.add({type:"error",text:"Email dan Password harus di isi"})}return o.$subscribe((a,t)=>{}),c(()=>o.isError,()=>{o.isError&&i.add({type:"error",text:o.responseMessage})}),c(()=>o.isSuccess,()=>{o.isSuccess&&(o.$reset(),i.add({type:"success",text:"Login Berhasil"}),m.push({path:"/",replace:!0}))}),g(()=>{const a=localStorage.getItem("remember");a&&(e.value.email=a.email,e.value.password=a.password)}),(a,t)=>{const r=w("center");return x(),y("body",B,[s("div",E,[V,s("div",C,[s("div",L,[u(r),u(r,null,{default:k(()=>[U]),_:1}),z,s("form",{onSubmit:S(v,["prevent"]),ref:_.value},[s("div",I,[n(s("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=l=>e.value.email=l)},null,512),[[p,e.value.email]]),N]),s("div",P,[n(s("input",{type:"password",class:"form-control",placeholder:"Kata Sandi","onUpdate:modelValue":t[1]||(t[1]=l=>e.value.password=l)},null,512),[[p,e.value.password]]),R]),s("div",$,[s("div",j,[s("div",q,[n(s("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[2]||(t[2]=l=>e.value.remember=l)},null,512),[[M,e.value.remember]]),D])]),F])],40,A),K])])])])}}};export{H as default};
