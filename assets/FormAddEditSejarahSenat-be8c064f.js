import{e as g,q as b,H as j,w as n,r as d,c as x,o as y,g as c,i as k,j as e,t as m,u as F,x as w,y as B,B as p,C as f,A as D}from"./index-745e58d5.js";import{u as I}from"./sejarah-senat-store-d6728520.js";import{L as C}from"./LoadingComponent-ba3eee28.js";const M=["onSubmit"],N={class:"card"},U={class:"card-header"},V={class:"card-title"},q={class:"card-body position-relative"},A={class:"row"},E={class:"form-group col-md-12"},L=e("label",{for:"input"},"Judul",-1),T={class:"form-group col-md-12"},J=e("label",null,"Isi Sejarah Senat Polindra",-1),K={class:"form-group"},P=e("label",{for:"exampleInputFile"},"Foto",-1),R={class:"input-group"},H={class:"custom-file"},z={class:"custom-file-label",for:"exampleInputFile"},G=e("div",{class:"form-group"},[e("input",{type:"submit",class:"btn btn-primary w-100",value:"Kirim"})],-1),Y={__name:"FormAddEditSejarahSenat",setup(O){const a=I(),u=g(),_=b(),o=j();n(()=>a.errorMessage,()=>{a.errorMessage&&u.add({type:"error",text:a.errorMessage})}),n(()=>a.isSuccessSubmit,()=>{a.isSuccessSubmit&&(u.add({type:"success",text:"Sejarah Senat Berhasil Disimpan"}),_.back())});const t=d({judul:"",isi:"",fotoUrl:"",fotoName:""}),h=x(()=>o.params.id!==null),i=d(null);n(()=>a.singleData,()=>{const s=a.singleData;t.value.judul=s.judul,t.value.isi=s.isi,t.value.fotoUrl=s.foto_url,t.value.fotoName=s.foto_name});function v(s){i.value=s.target.files[0]}function S(s){s.preventDefault(),o.params.id?a.updateSejarahSenat(o.params.id,t.value,i.value):a.saveSejarahSenat(t.value,i.value)}return y(()=>{o.params.id&&a.getSejarahSenatById(o.params.id)}),(s,l)=>(c(),k("form",{class:"form",onSubmit:D(S,["prevent"])},[e("div",N,[e("div",U,[e("h4",V," Silahkan "+m(h.value?"Perbarui":"Tambah")+" Sejarah Senat ",1)]),e("div",q,[F(a).isLoading?(c(),w(C,{key:0})):B("",!0),e("div",A,[e("div",E,[L,p(e("input",{type:"text",id:"title",class:"form-control",placeholder:"Isi Judul Disini","onUpdate:modelValue":l[0]||(l[0]=r=>t.value.judul=r),required:""},null,512),[[f,t.value.judul]])]),e("div",T,[J,p(e("textarea",{class:"form-control",rows:"4",placeholder:"Isi Sejarah Senat","onUpdate:modelValue":l[1]||(l[1]=r=>t.value.isi=r),required:""},null,512),[[f,t.value.isi]])])]),e("div",K,[P,e("div",R,[e("div",H,[e("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",accept:".jpg, .jpeg",onChange:v},null,32),e("label",z,m(i.value==null?"Temukan Foto dari Komputer Anda":i.value.name),1)])])])]),G])],40,M))}};export{Y as default};
