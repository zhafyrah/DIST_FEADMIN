import{R as g,d as r,H as h}from"./index-194bee8b.js";import{a as l}from"./date-utils-ee963ed8.js";const o=new g("dokumen-pleno");function d(e){return o.get({page:parseInt(e)})}function c(e){return o.get({},e)}function p(e){return o.store(e,"save",!0)}function f(e,s){return o.update(e,s,"update",!0)}function m(e){return o.destroy("delete",e)}const a=h();function i(){a.show({color:"#0069d9",blur:"5px"})}function u(e,s){const t=new FormData;return t.append("no_surat",e.noSurat),t.append("keterangan",e.keterangan),t.append("tanggal_unggah",l(e.tanggal_unggah)),t.append("status",e.status),s&&t.append("dokumen",s),t}const k=r("dokumen-pleno",{state:()=>({dokData:[],komentarData:[],singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1}),actions:{getList(){i(),d(this.page).then(e=>{this.totalData=e.total,this.currentPage=e.current_page,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.dokData=e.data,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})},saveDokPleno(e,s){i(),p(u(e,s)).then(t=>{this.isSuccessSubmit=!0,a.hide()}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,a.hide()})},updateDokPleno(e,s,t){i(),f(e,u(s,t)).then(n=>{this.isSuccessSubmit=!0,a.hide()}).catch(n=>{n.response?this.errorMessage=n.response.data.message:n.request?this.errorMessage=n.request:this.errorMessage=n.message,a.hide()})},deleteDokPleno(e){i(),m(e).then(s=>{this.isSuccessSubmit=!0,a.hide()}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,a.hide()})},getDokPlenoById(e){i(),c(e).then(s=>{this.singleData=s.data,a.hide()}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,a.hide()})}}});export{k as u};
