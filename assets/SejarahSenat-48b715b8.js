import{e as w,c,r as j,o as P,w as p,v as N,g as o,i,j as t,k as r,z as g,y as u,u as f,x as B,F as v,G as T,t as _,E as H,A as V}from"./index-659768d0.js";import{u as E}from"./sejarah-senat-store-32bcae32.js";import{_ as F,s as A}from"./notif-utils-ca08aad7.js";import{L as I}from"./LoadingComponent-f9a83e16.js";const K={class:"content"},$={class:"div container-fluid"},q={class:"row"},z={class:"col-12"},G={class:"card"},J={class:"card-header"},O={class:"card-tools"},Q={key:0,class:"card-tools"},R=t("i",{class:"fas fa-plus mr-1"},null,-1),U={class:"card-body table-responsive p-0"},W={class:"table text-nowrap"},X=t("thead",null,[t("tr",null,[t("th",null,"Judul"),t("th",null,"Isi"),t("th",null,"Foto"),t("th",null,"Aksi")])],-1),Y={class:"position-relative"},Z={key:1,class:"text-center border"},tt=t("td",{colspan:"3"},"Data Sejarah Kosong",-1),et=[tt],at=["src","alt"],st={class:"text-left ml-3"},ot=["onClick"],lt=["id"],it=t("i",{class:"fas fa-pen ml-3"},null,-1),nt=["onClick"],dt=t("i",{class:"fas fa-eye ml-3"},null,-1),ct=[dt],rt={class:"modal fade bd-example-modal-lg",id:"modalDetail",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},ut={class:"modal-dialog modal-lg",role:"document"},_t={class:"modal-content"},mt=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Detail Sejarah"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"Ã—")])],-1),ht={class:"modal-body"},pt=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Tutup ")],-1),St={__name:"SejarahSenat",setup(gt){const e=E(),n=w(),d=c(()=>e.sejarahSenatData);let m=j({});function b(a){m.value=a}const k=c(()=>e.page),y=c(()=>e.totalPage);P(()=>{e.getList()}),p(()=>e.errorMessage,()=>{e.errorMessage&&n.add({type:"error",text:e.errorMessage})}),p(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&e.submitMessage&&(n.add({type:"success",text:e.submitMessage}),e.getList())});function S(){e.page<e.totalPage?(e.page++,e.getList()):n.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function x(){e.page>0?(e.page--,e.getList()):n.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function C(a){e.page=a,e.getList()}function M(a,l){return a.length<=l?a:a.substring(0,l)+"..."}function D(a){a.preventDefault(),A("Konfirmasi","Hapus Data?","question","Hapus","Batal",l=>{l&&e.deleteSejarah(a.target.id)})}return(a,l)=>{const h=N("router-link");return o(),i(v,null,[t("section",K,[t("div",$,[t("div",q,[t("div",z,[t("div",G,[t("div",J,[t("div",O,[d.value.length==0?(o(),i("div",Q,[r(h,{to:"/tambah-sejarah-senat",class:"btn btn-primary"},{default:g(()=>[R,H(" Tambah Sejarah Senat ")]),_:1})])):u("",!0)])]),t("div",U,[t("table",W,[X,t("tbody",Y,[f(e).isLoading?(o(),B(I,{key:0})):u("",!0),d.value.length==0?(o(),i("tr",Z,et)):u("",!0),(o(!0),i(v,null,T(d.value,(s,L)=>(o(),i("tr",{key:L},[t("td",null,_(s.judul),1),t("td",null,_(M(s.isi,50)),1),t("td",null,[t("img",{src:s.foto_url,alt:s.foto_name,style:{"max-width":"100px","max-height":"auto"}},null,8,at)]),t("td",st,[t("a",{href:"#",onClick:V(D,["prevent"])},[t("i",{id:s.id,class:"fas fa-trash"},null,8,lt)],8,ot),r(h,{to:{name:"Edit Sejarah Senat Polindra",params:{id:s.id}}},{default:g(()=>[it]),_:2},1032,["to"]),t("a",{"data-toggle":"modal","data-target":"#modalDetail",onClick:ft=>b(s.isi)},ct,8,nt)])]))),128))])])]),r(F,{page:k.value,"total-page":y.value,onClickPrev:x,onClickNext:S,onClickPaginate:C},null,8,["page","total-page"])])])])])]),t("div",rt,[t("div",ut,[t("div",_t,[mt,t("div",ht,_(f(m)),1),pt])])])],64)}}};export{St as default};
