import{e as k,c as n,o as C,w as g,v as M,g as l,i as r,j as e,k as p,x as S,D as N,F as w,E as P,G as D,t as i,y as L,C as G}from"./index-194bee8b.js";import{u as V}from"./gallery-store-4bbcf6b0.js";import{_ as B,s as F}from"./notif-utils-a9433b8c.js";const H={class:"col-12"},K={class:"card"},E={class:"card-header"},T=e("button",{class:"btn btn-primary"},[e("i",{class:"fas fa-plus mr-1"}),G("Unggah Foto ")],-1),U=D('<div class="card-tools mt-2"><div class="input-group input-group-sm" style="width:200px;"><input type="text" name="table_search" class="form-control float-right" placeholder="Search"><div class="input-group-append"><button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button></div></div></div>',1),j={class:"card-body table-responsive p-0"},q={class:"table table-hovered table-bordered"},A=e("thead",null,[e("tr",null,[e("th",null,"No"),e("th",null,"Foto"),e("th",null,"Keterangan"),e("th",null,"Tanggal Unggah"),e("th",null,"Aksi")])],-1),$={key:0,class:"text-center border"},z=e("td",{colspan:"5"},"Data Gallery Kosong",-1),I=[z],J={class:"text-center"},O=["src"],Q={class:"text-center"},R=["onClick"],W=["id"],et={__name:"Gallery",setup(X){const t=V(),s=k(),c=n(()=>t.galleryData),_=n(()=>t.page),h=n(()=>t.totalPage),m=n(()=>t.lastNoPage);C(()=>{t.getList()}),g(()=>t.errorMessage,()=>{t.errorMessage&&s.add({type:"error",text:t.errorMessage})}),g(()=>t.isSuccessSubmit,()=>{t.isSuccessSubmit&&t.submitMessage&&(s.add({type:"success",text:t.submitMessage}),t.getList())});function f(){t.page<t.totalPage?(t.page++,t.getList()):s.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function b(){t.page>0?(t.page--,t.getList()):s.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function v(a){t.page=a,t.getList()}function x(a){a.preventDefault(),F("Konfirmasi","Hapus Data?","question","Hapus","Batal",d=>{d&&t.deleteGallery(a.target.id)})}return(a,d)=>{const y=M("router-link");return l(),r("div",H,[e("div",K,[e("div",E,[p(y,{to:"/tambah-foto"},{default:S(()=>[T]),_:1}),U]),e("div",j,[e("table",q,[A,e("tbody",null,[c.value.length==0?(l(),r("tr",$,I)):N("",!0),(l(!0),r(w,null,P(c.value,(o,u)=>(l(),r("tr",{key:u},[e("td",J,i(u+=m.value),1),e("td",null,[e("img",{src:o.foto_path,alt:"image",style:{"max-width":"100px","max-height":"auto"}},null,8,O)]),e("td",null,i(o.keterangan),1),e("td",null,i(o.tanggal_unggah),1),e("td",Q,[e("a",{href:"#",onClick:L(x,["prevent"])},[e("i",{id:o.id,class:"fas fa-trash"},null,8,W)],8,R)])]))),128))])])]),p(B,{page:_.value,"total-page":h.value,onClickPrev:b,onClickNext:f,onClickPaginate:v},null,8,["page","total-page"])])])}}};export{et as default};
