import{f as C,g as U,o as w,w as r,v as D,i as d,j as u,k as t,l as p,x as m,e as i,D as N,F as L,E as M,t as c,y as P,C as B,G as H}from"./index-8e55fb7d.js";import{u as V,a as E}from"./formating-utils-91ea5e9a.js";import{_ as A,s as T}from"./notif-utils-4e58a247.js";const F={class:"col-12"},I={class:"card"},K={class:"card-header"},R=t("button",{class:"btn btn-primary"},[t("i",{class:"fas fa-plus mr-1"}),B("Tambah User ")],-1),j=H('<div class="card-tools mt-2"><div class="input-group input-group-sm" style="width:200px;"><input type="text" name="table_search" class="form-control float-right" placeholder="Search"><div class="input-group-append"><button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button></div></div></div>',1),q={class:"card-body table-responsive p-0"},G={class:"table table-bordered table-hover"},$=t("thead",{class:"text-center"},[t("tr",null,[t("th",null,"No"),t("th",null,"Nama"),t("th",null,"NIP"),t("th",null,"Email"),t("th",null,"Role"),t("th",null,"Status"),t("th",null,"Aksi")])],-1),z={key:0,class:"text-center border"},J=t("td",{colspan:"5"},"Data User Kosong",-1),O=[J],Q={class:"text-center"},W={class:"text-center"},X={class:"form-group"},Y={class:"custom-control custom-switch"},Z=["id","checked","data-id"],tt=["for"],et={class:"text-center"},st=["onClick"],at=["id"],ot=t("i",{class:"fas fa-pen ml-3"},null,-1),rt={__name:"User",setup(it){const e=V(),o=C(),{userData:h,page:g,totalPage:f,lastNoPage:b}=U(e);w(()=>{e.getList()}),r(()=>e.errorMessage,()=>{e.errorMessage&&o.add({type:"error",text:e.errorMessage})}),r(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&(o.add({type:"success",text:"Data User Berhasil di Hapus"}),e.getList())}),r(()=>e.isSuccessUpdate,()=>{e.isSuccessUpdate&&(o.add({type:"success",text:"Data User Berhasil di Update"}),e.getList())}),r(()=>e.isSuccessDelete,()=>{e.isSuccessDelete&&(o.add({type:"success",text:"Data User Berhasil di Hapus"}),e.getList())});function k(){e.page<e.totalPage?(e.page++,e.getList()):o.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function v(){e.page>0?(e.page--,e.getList()):o.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function x(a){e.page=a,e.getList()}function S(a){a.preventDefault(),T("Konfirmasi","Hapus Data?","question","Hapus","Batal",n=>{n&&e.deleteUser(a.target.id)})}function y(a){const n=a.target.getAttribute("data-id"),l=a.target.checked;e.updateUser(n,{status:l?1:0})}return(a,n)=>{const l=D("router-link");return d(),u("div",F,[t("div",I,[t("div",K,[p(l,{to:"/tambah-user"},{default:m(()=>[R]),_:1}),j]),t("div",q,[t("table",G,[$,t("tbody",null,[i(h).length==0?(d(),u("tr",z,O)):N("",!0),(d(!0),u(L,null,M(i(h),(s,_)=>(d(),u("tr",{key:_},[t("td",Q,c(_+=i(b)),1),t("td",null,c(s.nama),1),t("td",null,c(s.nip),1),t("td",null,c(s.email),1),t("td",null,c(i(E)(s.role)),1),t("td",W,[t("div",X,[t("div",Y,[t("input",{type:"checkbox",class:"custom-control-input",id:"customSwitch"+s.id,checked:s.status==1,"data-id":s.id,onChange:y},null,40,Z),t("label",{class:"custom-control-label",for:"customSwitch"+s.id},null,8,tt)])])]),t("td",et,[t("a",{href:"#",onClick:P(S,["prevent"])},[t("i",{id:s.id,class:"fas fa-trash"},null,8,at)],8,st),p(l,{to:{name:"EditUser",params:{id:s.id}}},{default:m(()=>[ot]),_:2},1032,["to"])])]))),128))])])]),p(A,{page:i(g),"total-page":i(f),onClickPrev:v,onClickNext:k,onClickPaginate:x},null,8,["page","total-page"])])])}}};export{rt as default};
