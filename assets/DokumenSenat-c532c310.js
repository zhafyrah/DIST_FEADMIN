import{e as C,c,r as _,w as d,o as w,v as L,g as i,i as r,j as t,k as p,x as g,z as M,A as P,D as N,F as T,E as B,C as H,t as u,u as V,y as E}from"./index-c949cd14.js";import{u as F}from"./dokumen-senat-store-730863d9.js";import{_ as K,s as $}from"./notif-utils-75e30222.js";import{l as j}from"./lodash-336d108c.js";import{f as A}from"./date-utils-b77f79dd.js";const U={class:"col-12"},q={class:"card"},z={class:"card-header"},I=t("i",{class:"fas fa-plus mr-1"},null,-1),J={class:"card-tools mt-2"},Q={class:"input-group input-group-sm",style:{width:"200px"}},G={class:"input-group-append"},O=t("i",{class:"fas fa-times"},null,-1),R=[O],W=t("i",{class:"fas fa-search"},null,-1),X=[W],Y={class:"card-body table-responsive p-0"},Z={class:"table table-bordered table-head-fixed text-nowrap table-hover"},tt=t("thead",{class:"text-center"},[t("tr",null,[t("th",null,"Judul Dokumen"),t("th",null,"Link Dokumen"),t("th",null,"Foto"),t("th",null,"Tanggal Unggah"),t("th",null,"Keterangan"),t("th",null,"Aksi")])],-1),et={key:0,class:"text-center border"},at=t("td",{colspan:"6"},"Dokumen Senat Kosong",-1),st=[at],nt=["src","alt"],ot={class:"text-center"},lt=["onClick"],it=["id"],rt=t("i",{class:"fas fa-pen ml-3"},null,-1),_t={__name:"DokumenSenat",setup(ut){const e=F(),l=C(),m=c(()=>e.dokData),f=c(()=>e.page),k=c(()=>e.totalPage),o=_("");_([]);const b=j.debounce(()=>{o.value!==""?e.getList(o.value):e.getList()},500);d(()=>o.value,()=>{b()}),w(()=>{e.getList()}),d(()=>e.errorMessage,()=>{e.errorMessage&&l.add({type:"error",text:e.errorMessage})}),d(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&(l.add({type:"success",text:"Data Dokumen Senat Berhasil di Hapus"}),e.getList())});function v(){e.page<e.totalPage?(e.page++,e.getList()):l.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function D(){e.page>0?(e.page--,e.getList()):l.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function S(n){e.page=n,e.getList()}function x(n){n.preventDefault(),$("Konfirmasi","Hapus Data?","question","Hapus","Batal",s=>{s&&(e.$reset(),e.deleteDokSenat(n.target.id))})}return(n,s)=>{const h=L("router-link");return i(),r("div",U,[t("div",q,[t("div",z,[p(h,{to:{name:"TambahDokumenSenat"},class:"btn btn-primary"},{default:g(()=>[I,H(" Tambah Dokumen ")]),_:1}),t("div",J,[t("div",Q,[M(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>o.value=a),name:"table_search",class:"form-control float-right",placeholder:"Search",onInput:s[1]||(s[1]=(...a)=>n.searchData&&n.searchData(...a))},null,544),[[P,o.value]]),t("div",G,[t("button",{type:"button",class:"btn btn-default",onClick:s[2]||(s[2]=a=>o.value="")},R),t("button",{type:"button",class:"btn btn-default",onClick:s[3]||(s[3]=(...a)=>n.searchData&&n.searchData(...a))},X)])])])]),t("div",Y,[t("table",Z,[tt,t("tbody",null,[m.value.length==0?(i(),r("tr",et,st)):N("",!0),(i(!0),r(T,null,B(m.value,(a,y)=>(i(),r("tr",{key:y},[t("td",null,u(a.judul_dokumen),1),t("td",null,u(a.link_url),1),t("td",null,[t("img",{src:a.dokumen_path,alt:a.dokumen_name,style:{width:"200px"}},null,8,nt)]),t("td",null,u(V(A)(a.tanggal_unggah)),1),t("td",null,u(a.keterangan),1),t("td",ot,[t("a",{href:"#",onClick:E(x,["prevent"])},[t("i",{id:a.id,class:"fas fa-trash"},null,8,it)],8,lt),p(h,{to:{name:"EditDokumenSenat",params:{id:a.id}}},{default:g(()=>[rt]),_:2},1032,["to"])])]))),128))])])]),p(K,{page:f.value,"total-page":k.value,onClickPrev:D,onClickNext:v,onClickPaginate:S},null,8,["page","total-page"])])])}}};export{_t as default};
