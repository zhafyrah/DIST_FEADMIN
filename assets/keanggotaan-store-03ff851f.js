import{R as g,d as o}from"./index-745e58d5.js";const i=new g("keanggotaan");function h(s,e){return i.get({page:parseInt(s),search:e})}function u(s){return i.get({},s)}function r(s){return i.store(s,"save",!0)}function l(s,e){return i.updateFormData(s,e,"update",!0)}function d(s){return i.destroy("delete",s)}function n(s,e){const a=new FormData;return a.append("nama",s.nama),a.append("jabatan",s.jabatan),a.append("pendidikan",s.pendidikan),a.append("periode",s.periode),a.append("foto",e),a}const p=o("keanggotaan",{state:()=>({keanggotaanData:[],isLoading:!1,singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,submitMessage:""}),actions:{async getList(s){this.totalData=0,this.totalPage=1,this.lastNoPage=0,this.keanggotaanData=[],this.errorMessage="",this.isloading=!0,await h(this.page,s).then(e=>{this.totalData=e.total,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.keanggotaanData=e.data,this.isLoading=!1}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,this.isLoading=!1})},saveKeanggotaan(s,e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",this.isloading=!0,r(n(s,e)).then(a=>{this.isSuccessSubmit=!0,this.submitMessage="Data Keanggotaan Berhasil di Simpan",this.isLoading=!1}).catch(a=>{a.response?this.errorMessage=a.response.data.message:a.request?this.errorMessage=a.request:this.errorMessage=a.message,this.isLoading=!1})},updateKeanggotaan(s,e,a){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",this.isloading=!0,l(s,n(e,a)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Keanggotaan Berhasil di Update",this.isLoading=!1}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,this.isLoading=!1})},deleteKeanggotaan(s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",d(s).then(e=>{this.isSuccessSubmit=!0,this.submitMessage="Data Keanggotaan Berhasil di Hapus"}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message})},getKeanggotaanById(s){this.errorMessage="",this.singleData={},u(s).then(e=>{this.singleData=e.data,this.isLoading=!0}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message})}}});export{p as u};
