import{e as S,c as m,r as g,w as p,o as K,v as w,g as l,i as r,j as t,k as u,x as _,C as M,z as L,A as N,E as P,F as B,G as H,t as c,u as T,y as V}from"./index-b1176ff1.js";import{u as E}from"./dokumen-komisi-store-cf4e3f12.js";import{_ as U,s as $}from"./notif-utils-ac7d0df9.js";import{l as A}from"./lodash-336d108c.js";import{f as F}from"./date-utils-b77f79dd.js";const j={class:"col-12"},q={class:"card"},z={class:"card-header"},G=t("i",{class:"fas fa-plus mr-1"},null,-1),I={class:"card-tools mt-2"},Q={class:"input-group input-group-sm",style:{width:"200px"}},J={class:"input-group-append"},O=t("i",{class:"fas fa-times"},null,-1),R=[O],W=t("i",{class:"fas fa-search"},null,-1),X=[W],Y={class:"card-body table-responsive p-0"},Z={class:"table table-bordered table-head-fixed text-nowrap table-hover"},tt=t("thead",null,[t("tr",null,[t("th",null,"No Dokumen"),t("th",null,"Dokumen"),t("th",null,"Tanggal Unggah"),t("th",null,"Keterangan"),t("th",null,"Aksi")])],-1),et={key:0,class:"text-center border"},at=t("td",{colspan:"6"},"Dokumen Komisi Kosong",-1),st=[at],ot={class:"text-center"},nt=["onClick"],it=["id"],lt=t("i",{class:"fas fa-eye ml-3"},null,-1),rt=t("i",{class:"fas fa-pen ml-3"},null,-1),ht={__name:"DokumenKomisi",setup(ut){const e=E(),i=S(),h=m(()=>e.dokData),f=m(()=>e.page),v=m(()=>e.totalPage),n=g("");g([]);const b=A.debounce(()=>{n.value!==""?e.getList(n.value):e.getList()},500);p(()=>n.value,()=>{b()}),K(()=>{e.getList()}),p(()=>e.errorMessage,()=>{e.errorMessage&&i.add({type:"error",text:e.errorMessage})}),p(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&(i.add({type:"success",text:"Data Dokumen Komisi Berhasil di Hapus"}),e.getList())});function k(){e.page<e.totalPage?(e.page++,e.getList()):i.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function D(){e.page>0?(e.page--,e.getList()):i.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function y(o){e.page=o,e.getList()}function x(o){o.preventDefault(),$("Konfirmasi","Hapus Data?","question","Hapus","Batal",s=>{s&&(e.$reset(),e.deleteDokKomisi(o.target.id))})}return(o,s)=>{const d=w("router-link");return l(),r("div",j,[t("div",q,[t("div",z,[u(d,{to:{name:"TambahDokumenKomisi"},class:"btn btn-primary"},{default:_(()=>[G,M(" Unggah Dokumen ")]),_:1}),t("div",I,[t("div",Q,[L(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a),name:"table_search",class:"form-control float-right",placeholder:"Search",onInput:s[1]||(s[1]=(...a)=>o.searchData&&o.searchData(...a))},null,544),[[N,n.value]]),t("div",J,[t("button",{type:"button",class:"btn btn-default",onClick:s[2]||(s[2]=a=>n.value="")},R),t("button",{type:"button",class:"btn btn-default",onClick:s[3]||(s[3]=(...a)=>o.searchData&&o.searchData(...a))},X)])])])]),t("div",Y,[t("table",Z,[tt,t("tbody",null,[h.value.length==0?(l(),r("tr",et,st)):P("",!0),(l(!0),r(B,null,H(h.value,(a,C)=>(l(),r("tr",{key:C},[t("td",null,c(a.no_surat),1),t("td",null,c(a.dokumen_name),1),t("td",null,c(T(F)(a.tanggal_unggah)),1),t("td",null,c(a.keterangan),1),t("td",ot,[t("a",{href:"#",onClick:V(x,["prevent"])},[t("i",{id:a.id,class:"fas fa-trash"},null,8,it)],8,nt),u(d,{to:{name:"DetailDokumenKomisi",params:{id:a.id}}},{default:_(()=>[lt]),_:2},1032,["to"]),u(d,{to:{name:"EditDokumenKomisi",params:{id:a.id}}},{default:_(()=>[rt]),_:2},1032,["to"])])]))),128))])])]),u(U,{page:f.value,"total-page":v.value,onClickPrev:D,onClickNext:k,onClickPaginate:y},null,8,["page","total-page"])])])}}};export{ht as default};
