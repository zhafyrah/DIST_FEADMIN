import{R as u,d as h,G as c}from"./index-c949cd14.js";const n=new u("users");function g(s,e){return n.get({page:parseInt(s),search:e})}function l(s){return n.get({},s)}function o(s){return n.store(s,"save",!0)}function d(s,e){return n.update(s,e,"update")}function p(s){return n.destroy("delete",s)}const t=c();function i(){t.show({color:"#0069d9",blur:"5px"})}function r(s){const e=new FormData;return s.nama&&e.append("nama",s.nama),s.nip&&e.append("nip",s.nip),s.role&&e.append("role",s.role),s.email&&e.append("email",s.email),s.password&&e.append("password",s.password),e.append("status",parseInt(s.status)),e}const M=h("user",{state:()=>({userData:[],singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,isSuccessUpdate:!1,isSuccessDelete:!1}),actions:{getList(s){i(),g(this.page,s).then(e=>{this.totalData=e.total,this.currentPage=e.current_page,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.userData=e.data,t.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,t.hide()})},saveUser(s){i(),o(r(s)).then(e=>{this.isSuccessSubmit=!0,t.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,t.hide()})},updateUser(s,e){i(),d(s,r(e)).then(a=>{this.isSuccessSubmit=!0,t.hide()}).catch(a=>{a.response?this.errorMessage=a.response.data.message:a.request?this.errorMessage=a.request:this.errorMessage=a.message,t.hide()})},deleteUser(s){this.isSuccessDelete=!1,this.errorMessage="",i(),p(s).then(e=>{this.isSuccessDelete=!0,t.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,t.hide()})},getUserById(s){i(),l(s).then(e=>{this.singleData=e.data,t.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,t.hide()})}}});function m(s){return(s+"").replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}export{m as a,M as u};
