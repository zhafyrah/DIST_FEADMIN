import{p as f,e as k,q as y,r as c,w as d,o as w,v as u,g as p,i as x,j as e,u as S,x as M,y as C,k as m,z as L,A as B,B as l,C as _,D as V}from"./index-745e58d5.js";const E={class:"hold-transition login-page"},U={class:"login-box"},N=e("div",{class:"login-logo"},[e("a",{href:"#"},"Senat Polindra")],-1),z={class:"card"},A={class:"card-body login-card-body position-relative"},D=e("p",{style:{"font-size":"30px"}},[e("b",null,"Masuk")],-1),I=e("p",{class:"login-box-msg"},"Silahkan Masuk Untuk Memulai Sesi",-1),P=["onSubmit"],R={class:"input-group mb-3"},$=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-envelope"})])],-1),j={class:"input-group mb-3"},q=e("div",{class:"input-group-append"},[e("div",{class:"input-group-text"},[e("span",{class:"fas fa-lock"})])],-1),F={class:"row"},K={class:"col-8"},T={class:"icheck-primary"},G=e("label",{for:"remember"}," Ingat Saya ",-1),H=e("div",{class:"col-4"},[e("button",{type:"submit",class:"btn btn-primary btn-block"}," Masuk ")],-1),J=e("p",{class:"mb-1"},null,-1),W={__name:"Login",setup(O){const o=f(),i=k(),v=y(),b=c(null),s=c({email:"",password:"",remember:!1});function h(){s.value.email&&s.value.password?o.submitLogin(s.value.email,s.value.password):i.add({type:"error",text:"Email dan Password harus di isi"})}return o.$subscribe((a,t)=>{}),d(()=>o.isError,()=>{o.isError&&i.add({type:"error",text:o.responseMessage})}),d(()=>o.isSuccess,()=>{o.isSuccess&&(o.$reset(),i.add({type:"success",text:"Login Berhasil"}),v.push({path:"/",replace:!0}))}),w(()=>{const a=localStorage.getItem("remember");a&&(s.value.email=a.email,s.value.password=a.password)}),(a,t)=>{const g=u("LoadingComponent"),r=u("center");return p(),x("body",E,[e("div",U,[N,e("div",z,[e("div",A,[S(o).isLoading?(p(),M(g,{key:0})):C("",!0),m(r),m(r,null,{default:L(()=>[D]),_:1}),I,e("form",{onSubmit:B(h,["prevent"]),ref:b.value},[e("div",R,[l(e("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=n=>s.value.email=n)},null,512),[[_,s.value.email]]),$]),e("div",j,[l(e("input",{type:"password",class:"form-control",placeholder:"Kata Sandi","onUpdate:modelValue":t[1]||(t[1]=n=>s.value.password=n)},null,512),[[_,s.value.password]]),q]),e("div",F,[e("div",K,[e("div",T,[l(e("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[2]||(t[2]=n=>s.value.remember=n)},null,512),[[V,s.value.remember]]),G])]),H])],40,P),J])])])])}}};export{W as default};
