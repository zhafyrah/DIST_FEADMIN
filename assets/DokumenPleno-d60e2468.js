import{e as L,c as m,r as f,w as h,o as N,v as g,g as i,i as r,j as t,k as l,x as u,C as b,z as T,A as B,D as H,F as V,E,t as c,u as A,y as K}from"./index-c949cd14.js";import{u as U}from"./dokumen-pleno-store-7f98651d.js";import{_ as $,s as F}from"./notif-utils-75e30222.js";import{l as j}from"./lodash-336d108c.js";import{f as q}from"./date-utils-b77f79dd.js";const z={class:"col-12"},I={class:"card"},Q={class:"card-header"},G=t("i",{class:"fas fa-plus mr-1"},null,-1),J={class:"card-tools mt-2"},O={class:"input-group input-group-sm",style:{width:"200px"}},R={class:"input-group-append"},W=t("i",{class:"fas fa-times"},null,-1),X=[W],Y=t("i",{class:"fas fa-search"},null,-1),Z=[Y],tt={class:"card-body table-responsive p-0"},et={class:"table table-bordered table-head-fixed text-nowrap table-hover"},at=t("thead",{class:"text-center"},[t("tr",null,[t("th",null,"No Dokumen"),t("th",null,"Dokumen"),t("th",null,"Tanggal Unggah"),t("th",null,"Keterangan"),t("th",null,"Status"),t("th",null,"Aksi")])],-1),st={key:0,class:"text-center border"},nt=t("td",{colspan:"6"},"Dokumen Pleno Kosong",-1),ot=[nt],lt={key:1,class:"text-center border"},it=t("td",{colspan:"6"},"Data yang Dicari Tidak Ada",-1),rt=[it],ut={class:"text-center"},ct=["onClick"],dt=["id"],pt=t("i",{class:"fas fa-eye ml-3"},null,-1),_t=t("i",{class:"fas fa-pen ml-3"},null,-1),kt={__name:"DokumenPleno",setup(mt){const e=U(),d=L(),p=m(()=>e.dokData),v=m(()=>e.page),k=m(()=>e.totalPage),o=f("");f([]);const D=j.debounce(()=>{o.value!==""?e.getList(o.value):e.getList()},500);h(()=>o.value,()=>{D()}),N(()=>{e.getList()}),h(()=>e.errorMessage,()=>{e.errorMessage&&d.add({type:"error",text:e.errorMessage})}),h(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&(d.add({type:"success",text:"Data Dokumen Pleno Berhasil di Hapus"}),e.getList())});function y(){e.page<e.totalPage?(e.page++,e.getList()):d.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function x(){e.page>0?(e.page--,e.getList()):d.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function C(n){e.page=n,e.getList()}function P(n){n.preventDefault(),F("Konfirmasi","Hapus Data?","question","Hapus","Batal",s=>{s&&(e.$reset(),e.deleteDokPleno(n.target.id))})}return(n,s)=>{const _=g("router-link"),S=g("b-button"),w=g("center");return i(),r("div",z,[t("div",I,[t("div",Q,[l(_,{to:{name:"TambahDokumenPleno"},class:"btn btn-primary"},{default:u(()=>[G,b(" Unggah Dokumen ")]),_:1}),t("div",J,[t("div",O,[T(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>o.value=a),name:"table_search",class:"form-control float-right",placeholder:"Search",onInput:s[1]||(s[1]=(...a)=>n.searchData&&n.searchData(...a))},null,544),[[B,o.value]]),t("div",R,[t("button",{type:"button",class:"btn btn-default",onClick:s[2]||(s[2]=a=>o.value="")},X),t("button",{type:"button",class:"btn btn-default",onClick:s[3]||(s[3]=(...a)=>n.searchData&&n.searchData(...a))},Z)])])])]),t("div",tt,[t("table",et,[at,t("tbody",null,[p.value.length==0?(i(),r("tr",st,ot)):p.value.length===0&&o.value?(i(),r("tr",lt,rt)):H("",!0),(i(!0),r(V,null,E(p.value,(a,M)=>(i(),r("tr",{key:M},[t("td",null,c(a.no_surat),1),t("td",null,c(a.dokumen_name),1),t("td",null,c(A(q)(a.tanggal_unggah)),1),t("td",null,c(a.keterangan),1),t("td",null,[l(w,null,{default:u(()=>[l(S,{class:"button is-static status-button btn btn-primary btn-sm"},{default:u(()=>[b(c(a.status),1)]),_:2},1024)]),_:2},1024)]),t("td",ut,[t("a",{href:"#",onClick:K(P,["prevent"])},[t("i",{id:a.id,class:"fas fa-trash"},null,8,dt)],8,ct),l(_,{to:{name:"DetailDokumenPleno",params:{id:a.id}}},{default:u(()=>[pt]),_:2},1032,["to"]),l(_,{to:{name:"EditDokumenPleno",params:{id:a.id}}},{default:u(()=>[_t]),_:2},1032,["to"])])]))),128))])])]),l($,{page:v.value,"total-page":k.value,onClickPrev:x,onClickNext:y,onClickPaginate:C},null,8,["page","total-page"])])])}}};export{kt as default};
