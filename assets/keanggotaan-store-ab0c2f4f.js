import{R as h,d as u,H as r}from"./index-c0e2bd1a.js";const g=new h("keanggotaan");function d(e){return g.get({page:parseInt(e)})}function l(e){return g.get({},e)}function c(e){return g.store(e,"save",!0)}function p(e,s){return g.update(e,s,"update",!0)}function m(e){return g.destroy("delete",e)}const t=r();function n(){t.show({color:"#0069d9",blur:"5px"})}function o(e,s){const a=new FormData;return a.append("nama",e.nama),a.append("jabatan",e.jabatan),a.append("pendidikan",e.pendidikan),a.append("periode",e.periode),a.append("foto",s),a}const f=u("keanggotaan",{state:()=>({keanggotaanData:[],singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,submitMessage:""}),actions:{async getList(){this.totalData=0,this.totalPage=1,this.lastNoPage=0,this.keanggotaanData=[],this.errorMessage="",n(),await d(this.page).then(e=>{this.totalData=e.total,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.keanggotaanData=e.data,t.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,t.hide()})},saveKeanggotaan(e,s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",n(),c(o(e,s)).then(a=>{this.isSuccessSubmit=!0,this.submitMessage="Data Keanggotaan Berhasil di Simpan",t.hide()}).catch(a=>{a.response?this.errorMessage=a.response.data.message:a.request?this.errorMessage=a.request:this.errorMessage=a.message,t.hide()})},updateKeanggotaan(e,s,a){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",n(),p(e,o(s,a)).then(i=>{this.isSuccessSubmit=!0,this.submitMessage="Data Keanggotaan Berhasil di Update",t.hide()}).catch(i=>{i.response?this.errorMessage=i.response.data.message:i.request?this.errorMessage=i.request:this.errorMessage=i.message,t.hide()})},deleteKeanggotaan(e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",n(),m(e).then(s=>{this.isSuccessSubmit=!0,this.submitMessage="Data Keanggotaan Berhasil di Hapus",t.hide()}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,t.hide()})},getKeanggotaanById(e){this.errorMessage="",this.singleData={},n(),l(e).then(s=>{this.singleData=s.data,t.hide()}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,t.hide()})}}});export{f as u};
