import{e as g,q as j,H as y,w as n,r as p,c as x,o as k,g as u,i as d,j as e,t as c,z as _,A as h,y as w}from"./index-c949cd14.js";import{u as F}from"./sejarah-senat-store-060cb820.js";const D=["onSubmit"],I={class:"card"},M={class:"card-header"},U={class:"card-title"},B={class:"card-body"},N={class:"row"},q={class:"form-group col-md-12"},A=e("label",{for:"input"},"Judul",-1),C={class:"form-group col-md-12"},E=e("label",null,"Isi Sejarah Senat Polindra",-1),T={key:0,class:"form-group"},V=e("label",{for:"exampleInputFile"},"Foto",-1),J={class:"input-group"},K={class:"custom-file"},P={class:"custom-file-label",for:"exampleInputFile"},R={key:1,class:"row text-center"},z={class:"col-md-12"},H=["src"],G={class:"col-md-12"},L=e("div",{class:"form-group"},[e("input",{type:"submit",class:"btn btn-primary w-100",value:"Kirim"})],-1),X={__name:"FormAddEditSejarahSenat",setup(O){const s=F(),m=g(),f=j(),o=y();n(()=>s.errorMessage,()=>{s.errorMessage&&m.add({type:"error",text:s.errorMessage})}),n(()=>s.isSuccessSubmit,()=>{s.isSuccessSubmit&&(m.add({type:"success",text:"Sejarah Senat Berhasil Disimpan"}),f.back())});const a=p({judul:"",isi:"",fotoUrl:"",fotoName:""}),v=x(()=>o.params.id!==null),l=p(null);n(()=>s.singleData,()=>{const t=s.singleData;a.value.judul=t.judul,a.value.isi=t.isi,a.value.fotoUrl=t.foto_url,a.value.fotoName=t.foto_name});function S(t){l.value=t.target.files[0]}function b(t){t.preventDefault(),o.params.id?s.updateSejarahSenat(o.params.id,a.value,null):s.saveSejarahSenat(a.value,l.value)}return k(()=>{o.params.id&&s.getSejarahSenatById(o.params.id)}),(t,i)=>(u(),d("form",{class:"form",onSubmit:w(b,["prevent"])},[e("div",I,[e("div",M,[e("h4",U," Silahkan "+c(v.value?"Perbarui":"Tambah")+" Sejarah Senat ",1)]),e("div",B,[e("div",N,[e("div",q,[A,_(e("input",{type:"text",id:"title",class:"form-control",placeholder:"Isi Judul Disini","onUpdate:modelValue":i[0]||(i[0]=r=>a.value.judul=r),required:""},null,512),[[h,a.value.judul]])]),e("div",C,[E,_(e("textarea",{class:"form-control",rows:"4",placeholder:"Isi Sejarah Senat","onUpdate:modelValue":i[1]||(i[1]=r=>a.value.isi=r),required:""},null,512),[[h,a.value.isi]])])]),a.value.fotoUrl==""?(u(),d("div",T,[V,e("div",J,[e("div",K,[e("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",onChange:S},null,32),e("label",P,c(l.value==null?"Temukan Foto dari Komputer Anda":l.value.name),1)])])])):(u(),d("div",R,[e("div",z,[e("img",{src:a.value.fotoUrl,width:"150",height:"150"},null,8,H)]),e("div",G,[e("label",null,c(a.value.fotoName),1)])]))]),L])],40,D))}};export{X as default};
