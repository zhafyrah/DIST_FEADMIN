import{e as M,c,r as g,w as u,o as P,v as S,g as l,i as d,j as t,k as m,z as w,B as N,C as B,u as K,x as V,y as _,F as H,G as A,t as i,A as E,E as F}from"./index-659768d0.js";import{u as T}from"./keanggotaan-store-23eb16a2.js";import{_ as j,s as $}from"./notif-utils-ca08aad7.js";import{l as q}from"./lodash-336d108c.js";import{L as z}from"./LoadingComponent-f9a83e16.js";const G={class:"col-12"},I={class:"card"},J={class:"card-header"},Q=t("button",{class:"btn btn-primary"},[t("i",{class:"fas fa-plus mr-1"}),F("Tambah Anggota ")],-1),U={class:"card-tools mt-2"},O={class:"input-group input-group-sm",style:{width:"200px"}},R={class:"input-group-append"},W=t("i",{class:"fas fa-times"},null,-1),X=[W],Y=t("i",{class:"fas fa-search"},null,-1),Z=[Y],tt={class:"card-body table-responsive p-0"},et={class:"table table-hovered table-bordered"},at=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Nama"),t("th",null,"Jabatan"),t("th",null,"Pendidikan"),t("th",null,"Periode"),t("th",null,"Foto"),t("th",null,"Aksi")])],-1),st={class:"position-relative"},ot={key:1,class:"text-center border"},nt=t("td",{colspan:"6"},"Data Keanggotaan Kosong",-1),lt=[nt],it={class:"text-center"},rt=["src","alt"],ct={class:"text-center"},dt=["onClick"],ut=["id"],bt={__name:"Keanggotaan",setup(pt){const e=T(),r=M(),p=c(()=>e.keanggotaanData),f=c(()=>e.page),b=c(()=>e.totalPage),v=c(()=>e.lastNoPage),n=g("");g([]);const k=q.debounce(()=>{n.value!==""?e.getList(n.value):e.getList()},500);u(()=>n.value,()=>{k()}),P(()=>{e.getList()}),u(()=>e.errorMessage,()=>{e.errorMessage&&r.add({type:"error",text:e.errorMessage})}),u(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&e.submitMessage&&(r.add({type:"success",text:e.submitMessage}),e.getList())});function y(){e.page<e.totalPage?(e.page++,e.getList()):r.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function x(){e.page>0?(e.page--,e.getList()):r.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function C(o){e.page=o,e.getList()}function D(o){o.preventDefault(),$("Konfirmasi","Hapus Data?","question","Hapus","Batal",s=>{s&&e.deleteKeanggotaan(o.target.id)})}return(o,s)=>{const L=S("router-link");return l(),d("div",G,[t("div",I,[t("div",J,[m(L,{to:"/tambah-anggota"},{default:w(()=>[Q]),_:1}),t("div",U,[t("div",O,[N(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a),name:"table_search",class:"form-control float-right",placeholder:"Search",onInput:s[1]||(s[1]=(...a)=>o.searchData&&o.searchData(...a))},null,544),[[B,n.value]]),t("div",R,[t("button",{type:"button",class:"btn btn-default",onClick:s[2]||(s[2]=a=>n.value="")},X),t("button",{type:"button",class:"btn btn-default",onClick:s[3]||(s[3]=(...a)=>o.searchData&&o.searchData(...a))},Z)])])])]),t("div",tt,[t("table",et,[at,t("tbody",st,[K(e).isLoading?(l(),V(z,{key:0})):_("",!0),p.value.length==0?(l(),d("tr",ot,lt)):_("",!0),(l(!0),d(H,null,A(p.value,(a,h)=>(l(),d("tr",{key:h},[t("td",it,i(h+=v.value),1),t("td",null,i(a.nama),1),t("td",null,i(a.jabatan),1),t("td",null,i(a.pendidikan),1),t("td",null,i(a.periode),1),t("td",null,[t("img",{src:a.foto_path,alt:a.foto_name,style:{"max-width":"100px","max-height":"auto"}},null,8,rt)]),t("td",ct,[t("a",{href:"#",onClick:E(D,["prevent"])},[t("i",{id:a.id,class:"fas fa-trash"},null,8,ut)],8,dt)])]))),128))])])]),m(j,{page:f.value,"total-page":b.value,onClickPrev:x,onClickNext:y,onClickPaginate:C},null,8,["page","total-page"])])])}}};export{bt as default};
