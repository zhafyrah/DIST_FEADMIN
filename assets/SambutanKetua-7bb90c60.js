import{e as w,c as r,r as P,o as N,w as p,v as B,g as o,i as l,j as t,k as u,z as g,y as _,u as f,x as K,F as b,G as T,t as d,E as H,A as V}from"./index-745e58d5.js";import{u as E}from"./sambutan-store-5a56d306.js";import{_ as F,s as j}from"./notif-utils-02af4175.js";import{L as A}from"./LoadingComponent-ba3eee28.js";const I={class:"content"},$={class:"div container-fluid"},q={class:"row"},z={class:"col-12"},G={class:"card"},J={class:"card-header"},O={key:0,class:"card-tools"},Q=t("i",{class:"fas fa-plus mr-1"},null,-1),R={class:"card-body table-responsive p-0"},U={class:"table text-nowrap"},W=t("thead",null,[t("tr",null,[t("th",null,"Periode Ketua Senat"),t("th",null,"Nama Ketua Senat"),t("th",null,"Isi"),t("th",null,"Foto"),t("th",null,"Aksi")])],-1),X={class:"position-relative"},Y={key:1,class:"text-center border"},Z=t("td",{colspan:"3"},"Data Sambutan Kosong",-1),tt=[Z],at=["src","alt"],et={class:"text-center"},st=["onClick"],ot=["id"],nt=t("i",{class:"fas fa-pen ml-3"},null,-1),lt=["onClick"],it=t("i",{class:"fas fa-eye ml-3"},null,-1),dt=[it],ct={class:"modal fade bd-example-modal-lg",id:"modalDetail",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},rt={class:"modal-dialog modal-lg",role:"document"},ut={class:"modal-content"},_t=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLongTitle"}," Detail sambutan "),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"Ã—")])],-1),mt={class:"modal-body"},ht=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Tutup ")],-1),yt={__name:"SambutanKetua",setup(pt){const a=E(),i=w(),c=r(()=>a.sambutanData);let m=P({});function v(e){m.value=e}const k=r(()=>a.page),y=r(()=>a.totalPage);N(()=>{a.getList()}),p(()=>a.errorMessage,()=>{a.errorMessage&&i.add({type:"error",text:a.errorMessage})}),p(()=>a.isSuccessSubmit,()=>{a.isSuccessSubmit&&a.submitMessage&&(i.add({type:"success",text:a.submitMessage}),a.getList())});function x(){a.page<a.totalPage?(a.page++,a.getList()):i.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function S(e,n){return e.length<=n?e:e.substring(0,n)+"..."}function C(){a.page>0?(a.page--,a.getList()):i.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function M(e){a.page=e,a.getList()}function D(e){e.preventDefault(),j("Konfirmasi","Hapus Data?","question","Hapus","Batal",n=>{n&&a.deleteSambutan(e.target.id)})}return(e,n)=>{const h=B("router-link");return o(),l(b,null,[t("section",I,[t("div",$,[t("div",q,[t("div",z,[t("div",G,[t("div",J,[c.value.length==0?(o(),l("div",O,[u(h,{to:"/tambah-sambutan",class:"btn btn-primary"},{default:g(()=>[Q,H(" Tambah Sambutan ")]),_:1})])):_("",!0)]),t("div",R,[t("table",U,[W,t("tbody",X,[f(a).isLoading?(o(),K(A,{key:0})):_("",!0),c.value.length==0?(o(),l("tr",Y,tt)):_("",!0),(o(!0),l(b,null,T(c.value,(s,L)=>(o(),l("tr",{key:L},[t("td",null,d(s.judul),1),t("td",null,d(s.nama_ketua_senat),1),t("td",null,d(S(s.isi,50)),1),t("td",null,[t("img",{src:s.foto_url,alt:s.foto_name,style:{"max-width":"100px","max-height":"auto"}},null,8,at)]),t("td",et,[t("a",{href:"#",onClick:V(D,["prevent"])},[t("i",{id:s.id,class:"fas fa-trash"},null,8,ot)],8,st),u(h,{to:{name:"EditSambutan",params:{id:s.id}}},{default:g(()=>[nt]),_:2},1032,["to"]),t("a",{"data-toggle":"modal","data-target":"#modalDetail",onClick:gt=>v(s.isi)},dt,8,lt)])]))),128))])])]),u(F,{page:k.value,"total-page":y.value,onClickPrev:C,onClickNext:x,onClickPaginate:M},null,8,["page","total-page"])])])])])]),t("div",ct,[t("div",rt,[t("div",ut,[_t,t("div",mt,d(f(m)),1),ht])])])],64)}}};export{yt as default};
