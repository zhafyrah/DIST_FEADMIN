import{R as u,d as g,G as n}from"./index-c949cd14.js";const l=new u("gallery");function o(s,e){return l.get({page:parseInt(s),search:e})}function c(s){return l.get({},s)}function d(s){return l.store(s,"save",!0)}function m(s,e){return l.update(s,e,"update",!0)}function M(s){return l.destroy("delete",s)}const a=n();function r(){a.show({color:"#0069d9",blur:"5px"})}function h(s,e){const t=new FormData;return t.append("keterangan",s.keterangan),t.append("foto",e),t}const f=g("gallery",{state:()=>({galleryData:[],singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,submitMessage:""}),actions:{getList(s){this.totalData=0,this.totalPage=1,this.lastNoPage=0,this.galleryData=[],this.errorMessage="",r(),o(this.page,s).then(e=>{this.totalData=e.total,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.galleryData=e.data,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})},saveGallery(s,e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",r(),d(h(s,e)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Gallery Berhasil di Simpan",a.hide()}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,a.hide()})},updateGallery(s,e,t){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",r(),m(s,h(e,t)).then(i=>{this.isSuccessSubmit=!0,this.submitMessage="Data Gallery Berhasil di Update",a.hide()}).catch(i=>{i.response?this.errorMessage=i.response.data.message:i.request?this.errorMessage=i.request:this.errorMessage=i.message,a.hide()})},deleteGallery(s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",r(),M(s).then(e=>{this.isSuccessSubmit=!0,this.submitMessage="Data Gallery Berhasil di Hapus",a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})},getGalleryById(s){this.errorMessage="",this.singleData={},r(),c(s).then(e=>{this.singleData=e.data,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})}}});export{f as u};
