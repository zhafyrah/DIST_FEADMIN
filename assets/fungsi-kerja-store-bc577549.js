import{R as n,d as r}from"./index-659768d0.js";const a=new n("fungsi-kerja");function h(e,s){return a.get({page:parseInt(e),search:s})}function o(e){return a.get({},e)}function l(e){return a.store(e,"save",!0)}function c(e,s){return a.updateFormData(e,s,"update",!0)}function d(e){return a.destroy("delete",e)}function i(e,s){const t=new FormData;return t.append("komisi",e.komisi),t.append("nama_komisi",e.namaKomisi),t.append("ketua_komisi",e.ketuaKomisi),t.append("fungsi_kerja",e.fungsiKerja),s.forEach((u,g)=>{t.append(`nama_anggota${g+1}`,u.value)}),t}const f=r("fungsi-kerja",{state:()=>({fungsiKerjaData:[],singleData:{},isLoading:!1,errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,submitMessage:""}),actions:{getList(e){this.totalData=0,this.totalPage=1,this.lastNoPage=0,this.fungsiKerjaData=[],this.errorMessage="",this.isLoading=!0,h(this.page,e).then(s=>{this.totalData=s.total,this.totalPage=s.total>10?Math.ceil(s.total/10):1,this.lastNoPage=s.from,this.fungsiKerjaData=s.data,this.isLoading=!1}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,this.isLoading=!1})},saveFungsiKerja(e,s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",this.isLoading=!0,l(i(e,s)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Fungsi Kerja Berhasil di Simpan",this.isLoading=!1}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,this.isLoading=!1})},updateFungsiKerja(e,s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",this.isLoading=!0,c(e,i(s)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Fungsi Kerja Berhasil di Update",this.isLoading=!1}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,this.isLoading=!1})},deleteFungsiKerja(e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",d(e).then(s=>{this.isSuccessSubmit=!0,this.submitMessage="Data Fungsi Kerja Berhasil di Hapus"}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message})},getFungsiKerjaById(e){this.errorMessage="",this.singleData={},o(e).then(s=>{this.singleData=s.data,this.isLoading=!0}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message})}}});export{f as u};
