import{R as o,d as g}from"./index-b1176ff1.js";import{f as u}from"./date-utils-b77f79dd.js";const i=new o("dokumen-pleno");function r(s,e){return i.get({page:parseInt(s),search:e})}function h(s){return i.get({},s)}function l(s){return i.store(s,"save",!0)}function c(s,e){return i.update(s,e,"update",!0)}function d(s){return i.destroy("delete",s)}function n(s,e){const t=new FormData;return t.append("no_surat",s.noSurat),t.append("keterangan",s.keterangan),t.append("tanggal_unggah",u(s.tanggal_unggah)),t.append("status",s.status),e&&t.append("dokumen",e),t}const m=g("dokumen-pleno",{state:()=>({dokData:[],komentarData:[],singleData:{},errorMessage:"",isLoading:!1,totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1}),actions:{getList(s){this.isLoading=!0,r(this.page,s).then(e=>{this.totalData=e.total,this.currentPage=e.current_page,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.dokData=e.data,this.isLoading=!1}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,this.isLoading=!1})},saveDokPleno(s,e){this.isLoading=!0,l(n(s,e)).then(t=>{this.isSuccessSubmit=!0,this.isLoading=!1}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,this.isLoading=!1})},updateDokPleno(s,e,t){this.isLoading=!0,c(s,n(e,t)).then(a=>{this.isLoading=!1,this.isSuccessSubmit=!0}).catch(a=>{a.response?this.errorMessage=a.response.data.message:a.request?this.errorMessage=a.request:this.errorMessage=a.message}),this.isLoading=!1},deleteDokPleno(s){d(s).then(e=>{this.isSuccessSubmit=!0}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message})},getDokPlenoById(s){h(s).then(e=>{this.singleData=e.data}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message})}}});export{m as u};
