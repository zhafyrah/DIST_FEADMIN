import{R as r,d as g,H as o}from"./index-194bee8b.js";const n=new r("sambutan");function m(e){return n.get({page:parseInt(e)})}function l(e){return n.get({},e)}function d(e){return n.store(e,"save",!0)}function c(e,s){return n.update(e,s,"update",!0)}function b(e){return n.destroy("delete",e)}const a=o();function u(){a.show({color:"#0069d9",blur:"5px"})}function h(e,s){const t=new FormData;return t.append("nama_ketua_senat",e.namaKetuaSenat),t.append("judul",e.judul),t.append("isi",e.isi),s&&t.append("foto",s),t}const S=g("sambutan",{state:()=>({sambutanData:[],singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,submitMessage:""}),actions:{getList(){this.totalData=0,this.totalPage=1,this.lastNoPage=0,this.sambutanData=[],this.errorMessage="",u(),m(this.page).then(e=>{this.totalData=e.total,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.sambutanData=e.data,a.hide()}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,a.hide()})},saveSambutan(e,s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",u(),d(h(e,s)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Sambutan Berhasil di Simpan",a.hide()}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,a.hide()})},updateSambutan(e,s,t){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",u(),c(e,h(s,t)).then(i=>{this.isSuccessSubmit=!0,this.submitMessage="Data Sambutan Berhasil di Update",a.hide()}).catch(i=>{i.response?this.errorMessage=i.response.data.message:i.request?this.errorMessage=i.request:this.errorMessage=i.message,a.hide()})},deleteSambutan(e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",u(),b(e).then(s=>{this.isSuccessSubmit=!0,this.submitMessage="Data Sambutan Berhasil di Hapus",a.hide()}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,a.hide()})},getSambutanById(e){this.errorMessage="",this.singleData={},u(),l(e).then(s=>{this.singleData=s.data,a.hide()}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message,a.hide()})}}});export{S as u};
