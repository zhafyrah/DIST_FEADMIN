import{R as r,d as n}from"./index-659768d0.js";const i=new r("sejarah-senat");function u(e){return i.get({page:parseInt(e)})}function g(e){return i.get({},e)}function o(e){return i.store(e,"save",!0)}function l(e,s){return i.updateFormData(e,s,"update",!0)}function S(e){return i.destroy("delete",e)}function h(e,s){const t=new FormData;return t.append("judul",e.judul),t.append("isi",e.isi),s&&t.append("foto",s),t}const d=n("sejarah",{state:()=>({sejarahSenatData:[],isLoading:!1,singleData:{},errorMessage:"",totalData:0,page:1,lastPage:1,totalPage:1,lastNoPage:0,isSuccessSubmit:!1,submitMessage:""}),actions:{getList(){this.totalData=0,this.totalPage=1,this.lastNoPage=0,this.sejarahSenatData=[],this.errorMessage="",this.isLoading=!0,u(this.page).then(e=>{this.totalData=e.total,this.totalPage=e.total>10?Math.ceil(e.total/10):1,this.lastNoPage=e.from,this.sejarahSenatData=e.data,this.isLoading=!1}).catch(e=>{e.response?this.errorMessage=e.response.data.message:e.request?this.errorMessage=e.request:this.errorMessage=e.message,this.isLoading=!1})},saveSejarahSenat(e,s){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",this.isLoading=!0,o(h(e,s)).then(t=>{this.isSuccessSubmit=!0,this.submitMessage="Data Sejarah Senat Berhasil di Simpan",this.isLoading=!1}).catch(t=>{t.response?this.errorMessage=t.response.data.message:t.request?this.errorMessage=t.request:this.errorMessage=t.message,this.isLoading=!1})},updateSejarahSenat(e,s,t){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",this.isLoading=!0,l(e,h(s,t)).then(a=>{this.isSuccessSubmit=!0,this.submitMessage="Data Sejarah Senat Berhasil di Update",this.isLoading=!1}).catch(a=>{a.response?this.errorMessage=a.response.data.message:a.request?this.errorMessage=a.request:this.errorMessage=a.message,this.isLoading=!1})},deleteSejarahSenat(e){this.isSuccessSubmit=!1,this.errorMessage="",this.submitMessage="",S(e).then(s=>{this.isSuccessSubmit=!0,this.submitMessage="Data Sejarah Senat Berhasil di Hapus"}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message})},getSejarahSenatById(e){this.errorMessage="",this.singleData={},g(e).then(s=>{this.singleData=s.data}).catch(s=>{s.response?this.errorMessage=s.response.data.message:s.request?this.errorMessage=s.request:this.errorMessage=s.message})}}});export{d as u};
