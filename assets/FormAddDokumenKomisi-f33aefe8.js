import{e as S,q as y,H as x,c as K,r as i,w as d,o as w,g as p,i as I,j as e,t as _,u as U,x as B,y as F,B as c,C as m,A as M}from"./index-659768d0.js";import{u as N}from"./dokumen-komisi-store-4d900522.js";import{L as C}from"./LoadingComponent-f9a83e16.js";import"./date-utils-b77f79dd.js";const V={class:"card"},T={class:"card-header"},q={class:"d-flex align-items-center"},A={class:"card-title"},E=["onSubmit"],L={class:"card-body position-relative"},j={class:"row"},R={class:"col-md-12"},H={class:"form-group"},P=e("label",{for:"inputName"},"No Dokumen",-1),$={class:"col-md-12"},z={class:"form-group"},G=e("label",{for:"inputEmail"},"Keterangan",-1),J={class:"col-md-12"},O={class:"form-group"},Q=e("label",null,"Tanggal Unggah",-1),W={class:"form-group"},X=e("label",{for:"exampleInputFile"},"Unggah Dokumen",-1),Y={class:"input-group"},Z={class:"custom-file"},ee={class:"custom-file-label",for:"exampleInputFile"},ae=e("div",{class:"card-footer d-flex justify-content-center"},[e("button",{type:"submit",class:"btn btn-primary w-100"},"Unggah")],-1),le={__name:"FormAddDokumenKomisi",setup(oe){const a=N(),g=S(),v=y(),r=x(),f=K(()=>r.params.id!==null),h=i(""),k=i(""),u=i(0),s=i(null),o=i({noSurat:"",tanggal_unggah:new Date,keterangan:""});d(()=>a.errorMessage,()=>{a.errorMessage&&g.add({type:"error",text:a.errorMessage})}),d(()=>a.isSuccessSubmit,()=>{a.isSuccessSubmit&&(a.$reset(),g.add({type:"success",text:"Dokumen komisi berhasil disimpan"}),v.back())}),d(()=>a.singleData,()=>{u.value=a.singleData.id,o.value.noSurat=a.singleData.no_surat,o.value.tanggal_unggah=a.singleData.tanggal_unggah,o.value.keterangan=a.singleData.keterangan,h.value=a.singleData.dokumen_url,k.value=a.singleData.dokumen_name});function D(l){s.value=l.target.files[0]}function b(l){l.preventDefault(),u.value==0?a.saveDokKomisi(o.value,s.value):a.updateDokKomisi(u.value,o.value,s.value)}return w(()=>{r.params.id&&a.getDokKomisiById(r.params.id)}),(l,t)=>(p(),I("div",V,[e("div",T,[e("div",q,[e("h5",A," Silahkan "+_(f.value?"Perbarui":"Tambah")+" Dokumen Komisi ",1)])]),e("form",{onSubmit:M(b,["prevent"])},[e("div",L,[U(a).isLoading?(p(),B(C,{key:0})):F("",!0),e("div",j,[e("div",R,[e("div",H,[P,c(e("input",{type:"text",id:"nosurat",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=n=>o.value.noSurat=n),placeholder:"Isi Nomor Dokumen Komisi",required:""},null,512),[[m,o.value.noSurat]])])]),e("div",$,[e("div",z,[G,c(e("input",{type:"text",id:"keterangan",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=n=>o.value.keterangan=n),placeholder:"Isi Keterangan Dokumen Komisi",required:""},null,512),[[m,o.value.keterangan]])])]),e("div",J,[e("div",O,[Q,c(e("input",{class:"form-control",type:"date","onUpdate:modelValue":t[2]||(t[2]=n=>o.value.tanggal_unggah=n)},null,512),[[m,o.value.tanggal_unggah]])])])]),e("div",W,[X,e("div",Y,[e("div",Z,[e("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",accept:".pdf",onChange:D},null,32),e("label",ee,_(s.value==null?"Temukan Dokumen dari Komputer Anda":s.value.name),1)])])])]),ae],40,E)]))}};export{le as default};
