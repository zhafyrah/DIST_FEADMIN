import{e as w,c,r as j,o as L,w as m,v as P,g as l,i as n,j as t,k as r,x as p,D as g,F as f,E as N,t as u,u as T,C as B,y as H}from"./index-c949cd14.js";import{u as V}from"./sejarah-senat-store-060cb820.js";import{_ as E,s as F}from"./notif-utils-75e30222.js";const I={class:"content"},K={class:"div container-fluid"},$={class:"row"},q={class:"col-12"},A={class:"card"},J={class:"card-header"},z={class:"card-tools"},G={key:0,class:"card-tools"},O=t("i",{class:"fas fa-plus mr-1"},null,-1),Q={class:"card-body table-responsive p-0"},R={class:"table text-nowrap"},U=t("thead",null,[t("tr",null,[t("th",null,"Judul"),t("th",null,"Isi"),t("th",null,"Foto"),t("th",null,"Aksi")])],-1),W={key:0,class:"text-center border"},X=t("td",{colspan:"3"},"Data Sejarah Kosong",-1),Y=[X],Z=["src","alt"],tt={class:"text-left ml-3"},et=["onClick"],at=["id"],st=t("i",{class:"fas fa-pen ml-3"},null,-1),ot=["onClick"],lt=t("i",{class:"fas fa-eye ml-3"},null,-1),nt=[lt],it={class:"modal fade bd-example-modal-lg",id:"modalDetail",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},dt={class:"modal-dialog modal-lg",role:"document"},ct={class:"modal-content"},rt=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLongTitle"},"Detail Sejarah"),t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"Ã—")])],-1),ut={class:"modal-body"},_t=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Tutup ")],-1),bt={__name:"SejarahSenat",setup(ht){const e=V(),i=w(),d=c(()=>e.sejarahSenatData);let _=j({});function b(a){_.value=a}const v=c(()=>e.page),k=c(()=>e.totalPage);L(()=>{e.getList()}),m(()=>e.errorMessage,()=>{e.errorMessage&&i.add({type:"error",text:e.errorMessage})}),m(()=>e.isSuccessSubmit,()=>{e.isSuccessSubmit&&e.submitMessage&&(i.add({type:"success",text:e.submitMessage}),e.getList())});function S(){e.page<e.totalPage?(e.page++,e.getList()):i.add({type:"warning",text:"Sudah Mencapai Halaman Maximum"})}function y(){e.page>0?(e.page--,e.getList()):i.add({type:"warning",message:"Sudah Mencapai Halaman Minimum"})}function x(a){e.page=a,e.getList()}function C(a,o){return a.length<=o?a:a.substring(0,o)+"..."}function D(a){a.preventDefault(),F("Konfirmasi","Hapus Data?","question","Hapus","Batal",o=>{o&&e.deleteSejarah(a.target.id)})}return(a,o)=>{const h=P("router-link");return l(),n(f,null,[t("section",I,[t("div",K,[t("div",$,[t("div",q,[t("div",A,[t("div",J,[t("div",z,[d.value.length==0?(l(),n("div",G,[r(h,{to:"/tambah-sejarah-senat",class:"btn btn-primary"},{default:p(()=>[O,B(" Tambah Sejarah Senat ")]),_:1})])):g("",!0)])]),t("div",Q,[t("table",R,[U,t("tbody",null,[d.value.length==0?(l(),n("tr",W,Y)):g("",!0),(l(!0),n(f,null,N(d.value,(s,M)=>(l(),n("tr",{key:M},[t("td",null,u(s.judul),1),t("td",null,u(C(s.isi,50)),1),t("td",null,[t("img",{src:s.foto_url,alt:s.foto_name,style:{"max-width":"100px","max-height":"auto"}},null,8,Z)]),t("td",tt,[t("a",{href:"#",onClick:H(D,["prevent"])},[t("i",{id:s.id,class:"fas fa-trash"},null,8,at)],8,et),r(h,{to:{name:"Edit Sejarah Senat Polindra",params:{id:s.id}}},{default:p(()=>[st]),_:2},1032,["to"]),t("a",{"data-toggle":"modal","data-target":"#modalDetail",onClick:mt=>b(s.isi)},nt,8,ot)])]))),128))])])]),r(E,{page:v.value,"total-page":k.value,onClickPrev:y,onClickNext:S,onClickPaginate:x},null,8,["page","total-page"])])])])])]),t("div",it,[t("div",dt,[t("div",ct,[rt,t("div",ut,u(T(_)),1),_t])])])],64)}}};export{bt as default};
